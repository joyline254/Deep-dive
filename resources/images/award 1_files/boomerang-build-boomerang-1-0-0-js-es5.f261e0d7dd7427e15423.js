!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(window.webpackJsonp=window.webpackJsonp||[]).push([[265],{aRP7:function(t,n){function r(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(t){BOOMR.isCrossOriginError(t)||BOOMR.addError(t,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(-1!==e.indexOf(".")){try{return void window}catch(t){document.domain=e}try{return void window}catch(t){e=e.replace(/^[\w\-]+\./,"")}r(e)}}}var i,o,a;BOOMR_start=(new Date).getTime(),r(),function(t){var n,i,o,a,s,u,d,c=t;if(t.parent!==t&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(t=t.parent),o=t.document,t.BOOMR||(t.BOOMR={}),BOOMR=t.BOOMR,!BOOMR.version){var l,O,p;BOOMR.version="1.0.0",BOOMR.window=t,BOOMR.boomerang_frame=c,BOOMR.plugins||(BOOMR.plugins={}),function(){try{void 0!==new t.CustomEvent("CustomEvent")&&(a=function(e,n){return new t.CustomEvent(e,n)})}catch(e){}try{!a&&o.createEvent&&o.createEvent("CustomEvent")&&(a=function(e,t){var n=o.createEvent("CustomEvent");return n.initCustomEvent(e,(t=t||{cancelable:!1,bubbles:!1}).bubbles,t.cancelable,t.detail),n})}catch(e){}!a&&o.createEventObject&&(a=function(e,t){var n=o.createEventObject();return n.type=n.propertyName=e,n.detail=t.detail,n}),a||(a=function(){})}(),s=function(e,t,n){var r=a(e,{detail:t});function i(){try{o.dispatchEvent?o.dispatchEvent(r):o.fireEvent&&o.fireEvent("onpropertychange",r)}catch(t){BOOMR.debug("Error when dispatching "+e)}}r&&(n?BOOMR.setImmediate(i):i())},void 0!==o.hidden?(u="visibilityState",d="visibilitychange"):void 0!==o.mozHidden?(u="mozVisibilityState",d="mozvisibilitychange"):void 0!==o.msHidden?(u="msVisibilityState",d="msvisibilitychange"):void 0!==o.webkitHidden&&(u="webkitVisibilityState",d="webkitvisibilitychange"),n={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:void 0,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:t.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:void 0,events:(l={page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[]},e(l,"xhr_send",[]),e(l,"netinfo",[]),e(l,"rage_click",[]),l),public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",xb_handler:function(e){return function(r){var i;r||(r=t.event),r.target?i=r.target:r.srcElement&&(i=r.srcElement),3===i.nodeType&&(i=i.parentNode),i&&i.nodeName&&"OBJECT"===i.nodeName.toUpperCase()&&"application/x-shockwave-flash"===i.type||n.fireEvent(e,i)}},clearEvents:function(){var e;for(e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){var e;for(e in n.listenerCallbacks)if(n.listenerCallbacks.hasOwnProperty(e))for(;n.listenerCallbacks[e].length;)BOOMR.utils.removeListener(n.listenerCallbacks[e][0].el,e,n.listenerCallbacks[e][0].fn);n.listenerCallbacks={}},fireEvent:function(e,t){var n,r,i,o;if(e=e.toLowerCase(),this.translate_events[e]&&(e=this.translate_events[e]),this.events.hasOwnProperty(e)){for(this.public_events.hasOwnProperty(e)&&s(this.public_events[e],t),i=this.events[e],"before_beacon"!==e&&"beacon"!==e&&BOOMR.real_sendBeacon(),o=i.length,n=0;n<o;n++)try{(r=i[n]).fn.call(r.scope,t,r.cb_data)}catch(a){BOOMR.addError(a,"fireEvent."+e+"<"+n+">")}for(n=0;n<o;n++)i[n].once&&(i.splice(n,1),o--,n--)}},spaNavigation:function(){n.onloadfired=!0},beaconUrlAllowed:function(e){if(!n.beacon_urls_allowed||0===n.beacon_urls_allowed.length)return!0;for(var t=0;t<n.beacon_urls_allowed.length;t++)if(new RegExp(n.beacon_urls_allowed[t]).exec(e))return!0;return!1},checkLocalStorageSupport:function(){var e=n.LOCAL_STORAGE_PREFIX+"clss";n.localStorageSupported=!1;try{if(!t.JSON||!t.localStorage)return;t.localStorage.setItem(e,e),n.localStorageSupported=t.localStorage.getItem(e)===e,t.localStorage.removeItem(e)}catch(r){n.localStorageSupported=!1}}},(O={t_start:BOOMR_start,t_end:void 0,url:"",config_url:null,loadedLate:!1,beaconsSent:0,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:n.site_domain,ID:Math.random().toString(36).replace(/^0\./,""),start:void 0,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!t.postMessage||"function"!=typeof t.postMessage&&"object"!=typeof t.postMessage)},objectToString:function(e,t,n){var r,i=[];if(!e||"object"!=typeof e)return e;if(void 0===t&&(t="\n\t"),n||(n=0),BOOMR.utils.isArray(e)){for(r=0;r<e.length;r++)i.push(n>0&&null!==e[r]&&"object"==typeof e[r]?this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1):"&"===t?encodeURIComponent(e[r]):e[r]);t=","}else for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.push(n>0&&null!==e[r]&&"object"==typeof e[r]?encodeURIComponent(r)+"="+this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1):"&"===t?encodeURIComponent(r)+"="+encodeURIComponent(e[r]):r+"="+e[r]);return i.join(t)},getCookie:function(e){return e?(t=(n=" "+o.cookie+";").indexOf(e=" "+e+"="))>=0?n=n.substring(t+=e.length,n.indexOf(";",t)).replace(/^"/,"").replace(/"$/,""):void 0:null;var t,n},setCookie:function(e,t,n){var r,i,a,s,u;if(!e||!BOOMR.session.domain||void 0===t)return BOOMR.debug("Invalid parameters or site domain: "+e+"/"+t+"/"+BOOMR.session.domain),BOOMR.addVar("nocookie",1),!1;if((i=e+'="'+(r=this.objectToString(t,"&"))+'"').length<500){if(s=[i,"path=/","domain="+BOOMR.session.domain],"number"==typeof n&&((u=new Date).setTime(u.getTime()+1e3*n),u=u.toGMTString(),s.push("expires="+u)),o.cookie=s.join("; "),r===(a=this.getCookie(e))||void 0===a&&"number"==typeof n&&n<=0)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+r+"\n"+a)}else BOOMR.warn("Cookie too long: "+i.length+" "+i);return BOOMR.addVar("nocookie",1),!1},getSubCookies:function(e){var t,n,r,i,o=!1,a={};if(!e)return null;if("string"!=typeof e)return BOOMR.debug("TypeError: cookie is not a string: "+typeof e),null;for(n=0,r=(t=e.split("&")).length;n<r;n++)(i=t[n].split("="))[0]&&(i.push(""),a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]),o=!0);return o?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},getLocalStorage:function(e){var r,i;if(!e||!n.localStorageSupported)return null;try{if(null===(r=t.localStorage.getItem(n.LOCAL_STORAGE_PREFIX+e)))return;i=t.JSON.parse(r)}catch(o){return BOOMR.warn(o),null}return i&&"object"==typeof i.items?"number"==typeof i.expires&&BOOMR.now()>=i.expires?void this.removeLocalStorage(e):i.items:(this.removeLocalStorage(e),null)},setLocalStorage:function(e,r,i){var o,a,s;if(!e||!n.localStorageSupported||"object"!=typeof r)return!1;if(o={items:r},"number"==typeof i&&(o.expires=BOOMR.now()+1e3*i),(a=t.JSON.stringify(o)).length<5e4){try{if(t.localStorage.setItem(n.LOCAL_STORAGE_PREFIX+e,a),a===(s=t.localStorage.getItem(n.LOCAL_STORAGE_PREFIX+e)))return!0}catch(u){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+a+"\n"+s)}else BOOMR.warn("Storage items too large: "+a.length+" "+a);return!1},removeLocalStorage:function(e){if(!e||!n.localStorageSupported)return!1;try{return t.localStorage.removeItem(n.LOCAL_STORAGE_PREFIX+e),!0}catch(r){}return!1},cleanupURL:function(e,t){if(!e||BOOMR.utils.isArray(e))return"";if(n.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted")),void 0!==t&&e&&e.length>t){var r=e.indexOf("?");e=-1!==r&&r<t?e.substr(0,r)+"?...":e.substr(0,t-3)+"..."}return e},hashQueryString:function(e,t){return e?e.match?(e.match(/^\/\//)&&(e=location.protocol+e),e.match(/^(https?|file):/)?(t&&(e=e.replace(/#.*/,"")),BOOMR.utils.MD5?e.replace(/\?([^#]*)/,function(e,t){return"?"+(t.length>10?BOOMR.utils.MD5(t):t)}):e):(BOOMR.error("Passed in URL is invalid: "+e),"")):(BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e),""):e},pluginConfig:function(e,t,n,r){var i,o=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)void 0!==t[n][r[i]]&&(e[r[i]]=t[n][r[i]],o++);return o>0},arrayFilter:function(e,t){var n=[];if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return n;if("function"==typeof e.filter)n=e.filter(t);else for(var r,i=-1,o=e.length;++i<o;)t(r=e[i],i,e)&&(n[n.length]=r);return n},arrayFind:function(e,t){if((this.isArray(e)||e&&"number"==typeof e.length)&&"function"==typeof t){if("function"==typeof e.find)return e.find(t);for(var n,r=-1,i=e.length;++r<i;)if(t(n=e[r],r,e))return n}},isMutationObserverSupported:function(){return!(t&&t.navigator&&t.navigator.userAgent&&t.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&t&&t.MutationObserver&&"function"==typeof t.MutationObserver},addObserver:function(e,t,n,r,i,o){var a={observer:null,timer:null};if(!this.isMutationObserverSupported()||!r||!e)return null;function s(e){var t=!1;a.timer&&(clearTimeout(a.timer),a.timer=null),r&&((t=r.call(o,e,i))||(r=null)),!t&&a.observer&&(a.observer.disconnect(),a.observer=null),"number"==typeof t&&t>0&&(a.timer=setTimeout(s,t))}return a.observer=new BOOMR.window.MutationObserver(s),n&&(a.timer=setTimeout(s,a.timeout)),a.observer.observe(e,t),a},addListener:function(e,t,r,i){var o=!1;e.addEventListener?(i&&BOOMR.browser.supportsPassive()&&(o={capture:!1,passive:!0}),e.addEventListener(t,r,o)):e.attachEvent&&e.attachEvent("on"+t,r),n.listenerCallbacks[t]=n.listenerCallbacks[t]||[],n.listenerCallbacks[t].push({el:e,fn:r})},removeListener:function(e,t,r){if(e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r),n.listenerCallbacks.hasOwnProperty(t))for(var i=0;i<n.listenerCallbacks[t].length;i++)if(r===n.listenerCallbacks[t][i].fn&&e===n.listenerCallbacks[t][i].el)return void n.listenerCallbacks[t].splice(i,1)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t){var n;if(void 0===e||void 0===t||!t.length)return!1;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},getQueryParamValue:function(e,t){var n,r,i,o;if(!e)return null;for("string"==typeof t?(n=BOOMR.window.document.createElement("a")).href=t:n="object"==typeof t&&"string"==typeof t.search?t:BOOMR.window.location,r=n.search.slice(1).split(/&/),i=0;i<r.length;i++)if(r[i]&&(o=r[i].split("=")).length&&o[0]===e)return o.length>1?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):"";return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):(BOOMR.debug("JSON is not supported"),"")},getMyURL:function(){var e,t=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(t)return t.src;var n,r=document.getElementsByTagName("script");for(n=r.length;n--;)if("interactive"===r[n].readyState)return r[n].src;try{throw new Error}catch(i){if("stack"in i&&(e=this.arrayFilter(i.stack.split(/\n/),function(e){return e.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var e="CSS1Compat"===(t.document.compatMode||""),n={x:0,y:0};return void 0!==t.pageXOffset?"function"==typeof t.pageXOffset?(n.x=t.pageXOffset(),n.y=t.pageYOffset()):(n.x=t.pageXOffset,n.y=t.pageYOffset):e?(n.x=t.document.documentElement.scrollLeft,n.y=t.document.documentElement.scrollTop):(n.x=t.document.body.scrollLeft,n.y=t.document.body.scrollTop),"number"==typeof n.sx&&(n.sx=Math.round(n.sx)),"number"==typeof n.sy&&(n.sy=Math.round(n.sy)),n},windowHeight:function(){return t.innerHeight||t.document.documentElement.clientHeight||t.document.body.clientHeight},windowWidth:function(){return t.innerWidth||t.document.documentElement.clientWidth||t.document.body.clientWidth},isNative:function(e){return!!e&&e.toString&&!e.hasOwnProperty("toString")&&/\[native code\]/.test(String(e))}},browser:{results:{},supportsPassive:function(){if(void 0===BOOMR.browser.results.supportsPassive){if(BOOMR.browser.results.supportsPassive=!1,!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(t){}}return BOOMR.browser.results.supportsPassive}},init:function(e){var i,a,s=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip"];if(r(),e||(e={}),void 0!==e.log&&(this.log=e.log),this.log||(this.log=function(){}),this.pageId||(this.pageId=BOOMR.utils.generateId(8),BOOMR.debug("Generated PageID: "+this.pageId)),e.primary&&n.handlers_attached)return this;for(a in void 0!==e.site_domain&&(this.session.domain=e.site_domain),void 0!==e.autorun&&(n.autorun=e.autorun),this.plugins)if(this.plugins.hasOwnProperty(a)){if(e[a]&&e[a].hasOwnProperty("enabled")&&!1===e[a].enabled){n.disabled_plugins[a]=1,"function"==typeof this.plugins[a].disable&&this.plugins[a].disable();continue}if(n.disabled_plugins[a]){if(!e[a]||!e[a].hasOwnProperty("enabled")||!0!==e[a].enabled)continue;"function"==typeof this.plugins[a].enable&&this.plugins[a].enable(),delete n.disabled_plugins[a]}if("function"==typeof this.plugins[a].init)try{this.plugins[a].init(e)}catch(u){BOOMR.addError(u,a+".init")}}for(i=0;i<s.length;i++)void 0!==e[s[i]]&&(n[s[i]]=e[s[i]]);return(!n.handlers_attached&&!e.wait||n.handlers_attached&&n.waiting_for_config)&&(n.onloadfired||void 0!==n.autorun&&!1===n.autorun||(BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0),BOOMR.attach_page_ready(BOOMR.page_ready_autorun)),n.waiting_for_config=!1),n.handlers_attached||(e.wait&&(n.waiting_for_config=!0),BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())}),BOOMR.utils.addListener(t,"DOMContentLoaded",function(){n.fireEvent("dom_loaded")}),BOOMR.fireEvent("config",e),BOOMR.subscribe("config",function(e){e.beacon_url&&(n.beacon_url=e.beacon_url)}),BOOMR.subscribe("spa_navigation",n.spaNavigation,null,n),function(){var e,r;for(void 0!==d&&(BOOMR.utils.addListener(o,d,function(){n.fireEvent("visibility_changed")}),n.lastVisibilityState=BOOMR.visibilityState(),BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now(),BOOMR.debug("Visibility changed from "+n.lastVisibilityState+" to "+e),"prerender"===n.lastVisibilityState&&"prerender"!==e&&(BOOMR.addVar("vis.pre","1"),n.fireEvent("prerender_to_visible")),n.lastVisibilityState=e})),BOOMR.utils.addListener(o,"mouseup",n.xb_handler("click")),e=o.getElementsByTagName("form"),r=0;r<e.length;r++)BOOMR.utils.addListener(e[r],"submit",n.xb_handler("form_submit"));t.onpagehide||null===t.onpagehide||BOOMR.utils.addListener(t,"unload",function(){BOOMR.window=t=null})}(),n.handlers_attached=!0),this},attach_page_ready:function(e){BOOMR.hasBrowserOnloadFired()?this.setImmediate(e,null,null,BOOMR):t.onpagehide||null===t.onpagehide?BOOMR.utils.addListener(t,"pageshow",e):BOOMR.utils.addListener(t,"load",e)},page_ready_autorun:function(e){n.autorun&&BOOMR.page_ready(e,!0)},page_ready:function(e,r){var i;return r||"number"!=typeof e||(i=e,e=null),e||(e=t.event),e||(e={name:"load"}),r?"number"==typeof t.BOOMR_page_ready&&(e.timing=e.timing||{},e.timing.loadEventEnd=t.BOOMR_page_ready,BOOMR.addVar("pr",1,!0)):(e.timing=e.timing||{},e.timing.loadEventEnd=i||("number"==typeof t.BOOMR_page_ready?t.BOOMR_page_ready:BOOMR.now()),BOOMR.addVar("pr",1,!0)),n.onloadfired||(n.fireEvent("page_ready",e),n.onloadfired=!0),this},hasBrowserOnloadFired:function(){var e=BOOMR.getPerformance();return o.readyState&&"complete"===o.readyState||e&&e.timing&&e.timing.loadEventStart>0||t.BOOMR_onload>0},onloadFired:function(){return n.onloadfired},setImmediate:function(e,n,r,i){var o;o=function(){e.call(i||null,n,r||{},void 0),o=null},t.requestIdleCallback?t.requestIdleCallback(o,{timeout:1e3}):t.setImmediate?t.setImmediate(o):setTimeout(o,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},hrNow:function(){var e,t,n=BOOMR.getPerformance();return n&&n.now?e=n.now():(t=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start,e=BOOMR.now()-t),e},visibilityState:void 0===u?function(){return"visible"}:function(){return o[u]},lastVisibilityEvent:{},registerEvent:function(e){return n.events.hasOwnProperty(e)||(n.events[e]=[]),this},disable:function(){n.clearEvents(),n.clearListeners()},fireEvent:function(e,t){return n.fireEvent(e,t)},subscribe:function(e,r,i,o,a){var s,u,d,c,l;for(e=e.toLowerCase(),n.translate_events[e]&&(e=n.translate_events[e]),n.events.hasOwnProperty(e)||(n.events[e]=[]),d=n.events[e],s=0;s<d.length;s++)if((u=d[s])&&u.fn===r&&u.cb_data===i&&u.scope===o)return this;return d.push({fn:r,cb_data:i||{},scope:o||null,once:a||!1}),"page_ready"===e&&n.onloadfired&&n.autorun&&this.setImmediate(r,null,i,o),"page_unload"!==e&&"before_unload"!==e||(l=d.length,c=function(a){r&&r.call(o,a||t.event,i),"page_unload"===e&&l===n.events[e].length&&BOOMR.real_sendBeacon()},"page_unload"===e&&(t.onpagehide||null===t.onpagehide?BOOMR.utils.addListener(t,"pagehide",c):BOOMR.utils.addListener(t,"unload",c)),BOOMR.utils.addListener(t,"beforeunload",c)),this},addError:function(e,t,r){var i,o=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+e+", src: "+t+", extra: "+r),o&&o.is_supported()?"string"==typeof e?o.send({message:e,extra:r,functionName:t,noStack:!0},o.VIA_APP,o.SOURCE_BOOMERANG):("string"==typeof t&&(e.functionName=t),void 0!==r&&(e.extra=r),o.send(e,o.VIA_APP,o.SOURCE_BOOMERANG)):("string"!=typeof e&&((i=String(e)).match(/^\[object/)&&(i=e.name+": "+(e.description||e.message).replace(/\r\n$/,"")),e=i),void 0!==t&&(e="["+t+":"+BOOMR.now()+"] "+e),r&&(e+=":: "+r),n.errors[e]?n.errors[e]++:n.errors[e]=1)},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)||-2146828218===e.number},addVar:function(e,t,r){if("string"==typeof e)n.vars[e]=t;else if("object"==typeof e){var i,o=e;for(i in o)o.hasOwnProperty(i)&&(n.vars[i]=o[i])}return r&&(n.singleBeaconVars[e]=1),this},appendVar:function(e,t){var n=BOOMR.getVar(e)||"";return n&&(n+=","),BOOMR.addVar(e,n+t),this},removeVar:function(e){var t,r;if(!arguments.length)return this;for(r=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments,t=0;t<r.length;t++)n.vars.hasOwnProperty(r[t])&&delete n.vars[r[t]];return this},hasVar:function(e){return n.vars.hasOwnProperty(e)},getVar:function(e){return n.vars[e]},setVarPriority:function(e,t){return"number"!=typeof t||1!==Math.abs(t)||(n.varPriority[t][e]=1),this},setReferrer:function(e){n.r=e},requestStart:function(e){var t=BOOMR.now();return BOOMR.plugins.RT.startTimer("xhr_"+e,t),{loaded:function(n){BOOMR.responseEnd(e,t,n)}}},readyToSend:function(){var e;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)){if(n.disabled_plugins[e])continue;if("function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return BOOMR.debug("Plugin "+e+" is not ready to send"),!1}return!0},responseEnd:function(e,t,r,i){if(t="number"==typeof t?t:BOOMR.now(),i="number"==typeof i?i:BOOMR.now(),!BOOMR.readyToSend())return BOOMR.debug("Attempted to call responseEnd before all plugins were Ready to Send, trying again..."),void setTimeout(function(){BOOMR.responseEnd(e,t,r,i)},1e3);if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if("object"==typeof e){if(!e.url)return void BOOMR.debug("BOOMR.responseEnd: First argument must have a url property if it's an object");n.fireEvent("xhr_load",e)}else BOOMR.real_sendBeacon(),BOOMR.addVar("xhr.pg",e),BOOMR.plugins.RT.startTimer("xhr_"+e,t),n.fireEvent("xhr_load",{name:"xhr_"+e,data:r,timing:{loadEventEnd:i}});else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,t,r,i)},null,BOOMR,!0)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){return e&&(n.beacon_url_override=e),n.beaconQueued||(n.beaconQueued=!0,BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)),!0},real_sendBeacon:function(){var e,r=[],i={};if(!n.beaconQueued)return!1;for(e in n.beaconQueued=!1,BOOMR.debug("Checking if we can send beacon"),this.plugins)if(this.plugins.hasOwnProperty(e)){if(n.disabled_plugins[e])continue;if(!this.plugins[e].is_complete(n.vars))return BOOMR.debug("Plugin "+e+" is not complete, deferring beacon send"),!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return BOOMR.debug("DOM not fully available, not sending a beacon"),!1;var a=BOOMR.utils.inArray(n.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),s=void 0===n.vars["http.initiator"]||a;for(e in n.vars.pgu||(n.vars.pgu=a?o.URL:o.URL.replace(/#.*/,"")),n.vars.pgu=BOOMR.utils.cleanupURL(n.vars.pgu),n.vars.u&&!a||(n.vars.u=n.vars.pgu),n.vars.pgu===n.vars.u&&delete n.vars.pgu,n.r?n.vars.r=BOOMR.utils.cleanupURL(n.r):delete n.vars.r,n.vars.v=BOOMR.version,BOOMR.session.enabled&&(n.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36),n.vars["rt.ss"]=BOOMR.session.start,n.vars["rt.sl"]=BOOMR.session.length),BOOMR.visibilityState()&&(n.vars["vis.st"]=BOOMR.visibilityState(),BOOMR.lastVisibilityEvent.visible&&(n.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible),BOOMR.lastVisibilityEvent.hidden&&(n.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)),n.vars["ua.plt"]=navigator.platform,n.vars["ua.vnd"]=navigator.vendor,this.pageId&&(n.vars.pid=this.pageId),n.vars.n=++this.beaconsSent,t!==window&&(n.vars.if=""),n.errors)n.errors.hasOwnProperty(e)&&r.push(e+(n.errors[e]>1?" (*"+n.errors[e]+")":""));for(e in r.length>0&&(n.vars.errors=r.join("\n")),n.errors={},n.fireEvent("before_beacon",n.vars),n.vars)n.vars.hasOwnProperty(e)&&(i[e]=n.vars[e]);for(var u in BOOMR.removeVar(["qt","pgu"]),n.singleBeaconVars)n.singleBeaconVars.hasOwnProperty(u)&&BOOMR.removeVar(u);return n.singleBeaconVars={},!n.hasSentPageLoadBeacon&&s&&(n.hasSentPageLoadBeacon=!0,BOOMR.setImmediate(function(){n.fireEvent("page_load_beacon",i)})),BOOMR.session.rate_limited?(BOOMR.debug("Skipping because we're rate limited"),!1):(BOOMR.sendBeaconData(i),!0)},hasSentPageLoadBeacon:function(){return n.hasSentPageLoadBeacon},sendBeaconData:function(e){var r,i,o,a,s,u=[],d=!0;if(BOOMR.debug("Ready to send beacon: "+BOOMR.utils.objectToString(e)),n.beacon_url=n.beacon_url_override||n.beacon_url,!n.beacon_url)return BOOMR.debug("No beacon URL, so skipping."),!1;if(!n.beaconUrlAllowed(n.beacon_url))return BOOMR.debug("Beacon URL not allowed: "+n.beacon_url),!1;if(0===e.length)return!1;if(n.fireEvent("beacon",e),u=this.getVarsOfPriority(e,-1),r=this.getVarsOfPriority(e,1),i=u.concat(this.getVarsOfPriority(e,0),r).join("&"),n.beacon_url_force_https&&n.beacon_url.match(/^\/\//)&&(n.beacon_url="https:"+n.beacon_url),o=n.beacon_url+(n.beacon_url.indexOf("?")>-1?"&":"?")+i,"GET"===n.beacon_type?(d=!0,o.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")):("POST"===n.beacon_type||o.length>BOOMR.constants.MAX_GET_LENGTH)&&(d=!1),t&&t.navigator&&"function"==typeof t.navigator.sendBeacon&&BOOMR.utils.isNative(t.navigator.sendBeacon)&&"function"==typeof t.Blob&&"GET"!==n.beacon_type&&void 0===n.beacon_auth_token&&!n.beacon_disable_sendbeacon){var c=new t.Blob([i+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(t.navigator.sendBeacon(n.beacon_url,c))return!0}if(BOOMR.orig_XMLHttpRequest||t&&t.XMLHttpRequest||(d=!0),d){try{a=new Image}catch(l){return BOOMR.debug("Image is not a constructor, not sending a beacon"),!1}a.src=o}else{s=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(s,i)}catch(l){s=new BOOMR.boomerang_frame.XMLHttpRequest,this.sendXhrPostBeacon(s,i)}}return!0}},e(O,"hasSentPageLoadBeacon",function(){return n.hasSentPageLoadBeacon}),e(O,"sendXhrPostBeacon",function(e,t){e.open("POST",n.beacon_url),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),void 0!==n.beacon_auth_token&&(void 0===n.beacon_auth_key&&(n.beacon_auth_key="Authorization"),e.setRequestHeader(n.beacon_auth_key,n.beacon_auth_token)),n.beacon_with_credentials&&(e.withCredentials=!0),e.send(t)}),e(O,"getVarsOfPriority",function(e,t){var r,i=[],o=0!==t?n.varPriority[t]:e;for(r in o)o.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(i.push(this.getUriEncodedVar(r,void 0===e[r]?"":e[r])),0!==t&&delete e[r]);return i}),e(O,"getUriEncodedVar",function(e,t){return null==t&&(t=""),"object"==typeof t&&(t=BOOMR.utils.serializeForUrl(t)),encodeURIComponent(e)+"="+encodeURIComponent(t)}),e(O,"getResourceTiming",function(e,t,n){var r,i=BOOMR.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(r=i.getEntriesByName(e))||!r.length)return;if(!("function"!=typeof n||(r=BOOMR.utils.arrayFilter(r,n))&&r.length))return;return r.length>1&&"function"==typeof t&&r.sort(t),r[r.length-1]}}catch(o){BOOMR.warn("getResourceTiming:"+o)}}),i=O).url=i.utils.getMyURL(),BOOMR_start=void 0,"number"==typeof BOOMR_lstart?(i.t_lstart=BOOMR_lstart,BOOMR_lstart=void 0):"number"==typeof BOOMR.window.BOOMR_lstart&&(i.t_lstart=BOOMR.window.BOOMR_lstart),"number"==typeof BOOMR.window.BOOMR_onload&&(i.t_onload=BOOMR.window.BOOMR_onload),i.log="object"==typeof console&&void 0!==console.log?function(e,t,n){console.log("("+BOOMR.now()+") {"+BOOMR.pageId+"}: "+n+": ["+t+"] "+e)}:function(){},i.debug=(p=function(e){return function(t,n){return this.log(t,e,"boomerang"+(n?"."+n:"")),this}})("debug"),i.info=p("info"),i.warn=p("warn"),i.error=p("error");try{var f=i.getPerformance();f&&"function"==typeof f.now&&/\[native code\]/.test(String(f.now))&&f.timing&&f.timing.navigationStart&&(i.now=function(){return Math.round(f.now()+f.timing.navigationStart)})}catch(g){}n.checkLocalStorageSupport(),function(){var e;for(e in i)i.hasOwnProperty(e)&&(BOOMR[e]=i[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}(),s("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window),function(){var e,t,n,r,i,o=["uninitialized","open","responseStart","domInteractive","responseEnd"];function a(e){BOOMR.debug(e,"AutoXHR")}function s(e){if(!e)return null;e.href=e.href;var t=e.pathname;return"/"!==t.charAt(0)&&(t="/"+t),t}function u(e){var t;if(e.href){if(e.href.match(/^(about:|javascript:|data:)/i))return!0;if("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&(0===(t=e.href.indexOf(BOOMR.getBeaconURL()))||5===t||6===t))return!0}return BOOMR.xhr_excludes.hasOwnProperty(e.href)||BOOMR.xhr_excludes.hasOwnProperty(e.hostname)||BOOMR.xhr_excludes.hasOwnProperty(s(e))}function d(){this.watch=0,this.timer=null,this.pending_events=[],this.lastSpaLocation=null}function c(e,t){var n,r;if(!t||!e)return!1;if("boolean"==typeof t)return!0===t;if("function"==typeof t)try{return!0===t(e)}catch(i){return!1}if(BOOMR.utils.isArray(t))for(n=0;n<t.length;n++){if("string"==typeof(r=t[n])&&r===e)return!0;if(r instanceof RegExp&&r.test(e))return!0}return!1}function l(){i.monitorFetch&&"function"==typeof e.fetch&&"function"==typeof e.Request&&"function"==typeof e.Response&&"function"==typeof e.Promise&&"function"==typeof window.fetch&&!e.fetch.polyfill&&(BOOMR.proxy_fetch&&BOOMR.proxy_fetch===e.fetch||(BOOMR.proxy_fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch===e.fetch||(BOOMR.orig_fetch=e.orig_fetch||e.fetch,BOOMR.proxy_fetch=function(t,o){var a,s,u,d={timing:{},initiator:"xhr"};if("object"==typeof t&&t instanceof e.Request?(a=t.url,s=o&&o.method||t.method||"GET",i.captureXhrRequestResponse&&(u=o&&o.body||t.body||void 0)):(a=t,s=o&&o.method||"GET",i.captureXhrRequestResponse&&(u=o&&o.body||void 0)),r.href=a,i.excludeFilter(r))return BOOMR.debug("Exclude found for resource: "+r.href+" Skipping Fetch instrumentation!","AutoXHR"),BOOMR.orig_fetch.apply(e,arguments);BOOMR.fireEvent("xhr_init","fetch"),d.url=r.href,d.method=s,d.type="fetch",u&&(d.requestPayload=u),BOOMR.fireEvent("xhr_send",{resource:d}),i.singlePageApp&&n.watch&&!c(d.url,i.alwaysSendXhr)&&n.add_event_resource(d);try{var l=function(t,n,r){function o(){var e;r.fetchResponse&&!r.fetchResponse.bodyUsed&&i.fetchBodyUsedWait?(e=BOOMR.now(),r.responseBodyNotUsed=!0,setTimeout(function(){i.loadFinished(r,e)},i.fetchBodyUsedWait)):i.loadFinished(r)}return function(){var i,a=t._bmrNextP;try{for(i=n.apply(this===window?BOOMR.window:this,arguments);a&&!a._bmrHasOnFulfilled;)a=a._bmrNextP;return a||(i instanceof e.Promise?i.then=O(i,i.then,r):o()),i}catch(s){for(;a&&!a._bmrHasOnRejected;)a=a._bmrNextP;throw a||o(),s}}},O=function e(t,n,r){return t._bmrNextP?n:function(){var i=Array.prototype.slice.call(arguments);i.length>0&&("function"==typeof i[0]&&(i[0]=l(t,i[0],r),t._bmrHasOnFulfilled=!0),i.length>1&&"function"==typeof i[1]&&(i[1]=l(t,i[1],r),t._bmrHasOnRejected=!0));var o=n.apply(t,i);return t._bmrNextP=o,o.then=e(o,o.then,r),o}};d.timing.requestStart=BOOMR.now();var p=BOOMR.orig_fetch.apply(this,arguments);return p.then=O(p,p.then,d),p.then(function(t){var n,r=!1,o=!1;if((t.status<200||t.status>=400)&&(d.status=t.status),d.fetchResponse=t,i.captureXhrRequestResponse&&"function"==typeof t.clone){(n=t.headers.get("content-type"))&&(r=-1!==n.indexOf("json"),o=-1!==n.indexOf("xml")),d.response={};try{t.clone().text().then(function(t){d.response.text=t,d.response.raw=t,o&&"function"==typeof e.DOMParser&&(d.response.xml=(new e.DOMParser).parseFromString(t,"text/xml"))}).then(null,function(e){})}catch(a){}if(r)try{t.clone().json().then(function(e){d.response.json=e}).then(null,function(e){})}catch(a){}}return t},function(e){throw d.status=!e||"AbortError"!==e.name&&20!==e.code?-998:-999,e})}catch(f){throw d.status=-997,i.loadFinished(d),f}}),e.fetch=BOOMR.proxy_fetch))}function O(){"function"==typeof e.fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch!==e.fetch&&(e.fetch=BOOMR.orig_fetch)}function p(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==e.XMLHttpRequest){if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===e.XMLHttpRequest)return e.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest,void d.start();BOOMR.orig_XMLHttpRequest=e.orig_XMLHttpRequest||e.XMLHttpRequest,d.start(),BOOMR.subscribe("click",function(){if(!i.singlePageApp){var t={timing:{},initiator:"click"};BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==e.XMLHttpRequest&&(t.timing.requestStart=BOOMR.now(),n.addEvent(t))}}),BOOMR.proxy_XMLHttpRequest=function(){var t,s,u,d={timing:{},initiator:"xhr"},c=!1,l=!1;return t=new BOOMR.orig_XMLHttpRequest,s=t.open,u=t.send,t.open=function(n,u,O){if(r.href=u,i.excludeFilter(r))return l=!0,a("Exclude found for resource: "+r.href+" Skipping XHR instrumentation!"),s.apply(t,arguments);function p(n,r){t.addEventListener(n,function(){if("readystatechange"===n)if(d.timing[o[t.readyState]]=BOOMR.now(),4===t.readyState&&0!==t.status){if((t.status<200||t.status>=400)&&(d.status=t.status),i.captureXhrRequestResponse&&(d.response={text:""===t.responseType||"text"===t.responseType?t.responseText:null,xml:""===t.responseType||"document"===t.responseType?t.responseXML:null,raw:t.response,json:t.responseJSON},t.response&&t.response.constructor&&t.response.constructor===BOOMR.boomerang_frame.Object&&BOOMR.boomerang_frame.Object!==e.Object))try{t.response.constructor=e.Object}catch(a){}i.loadFinished(d)}else 0===t.readyState&&"number"==typeof d.timing.open&&(d.status=-999,i.loadFinished(d));else"load"===n?(t.status<200||t.status>=400)&&(d.status=t.status):d.status=void 0===r?t.status:r,i.loadFinished(d)},!1)}l=!1,void 0===O&&(O=!0),BOOMR.fireEvent("xhr_init","xhr"),c||(O&&p("readystatechange"),p("load"),p("timeout",-1001),p("error",-998),p("abort",-999)),d.url=r.href,d.method=n,d.type="xhr",delete d.status,O||(d.synchronous=!0),c=!0;try{return s.apply(t,arguments)}catch(f){throw d.status=-997,i.loadFinished(d),f}},t.send=function(e){return l?u.apply(t,arguments):(i.captureXhrRequestResponse&&(t.resource.requestPayload=e),BOOMR.fireEvent("xhr_send",t),i.singlePageApp&&n.watch&&n.add_event_resource(d),d.timing.requestStart=BOOMR.now(),void 0===d.status||-997!==d.status?u.apply(t,arguments):void 0)},t.resource=d,t},BOOMR.proxy_XMLHttpRequest.UNSENT=0,BOOMR.proxy_XMLHttpRequest.OPENED=1,BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2,BOOMR.proxy_XMLHttpRequest.LOADING=3,BOOMR.proxy_XMLHttpRequest.DONE=4,BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype,e.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest}}function f(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==e.XMLHttpRequest&&(e.XMLHttpRequest=BOOMR.orig_XMLHttpRequest)}function g(e){e.initiator="xhr",BOOMR.responseEnd(e)}BOOMR.plugins.AutoXHR||(e=BOOMR.window)&&e.XMLHttpRequest&&(new e.XMLHttpRequest).addEventListener&&(d.stop=function(){d.pause(),d.observer=null},d.pause=function(){d.observer&&d.observer.observer&&!d.isPaused&&(d.isPaused=!0,d.observer.observer.disconnect())},d.resume=function(){d.observer&&d.observer.observer&&d.isPaused&&(d.isPaused=!1,d.observer.observer.observe(t,d.observer.config))},d.start=function(){if(!d.observer){var e={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};(d.observer=BOOMR.utils.addObserver(t,e,null,n.mutation_cb,null,n))&&(d.observer.config=e,BOOMR.subscribe("page_unload",d.stop,null,d))}},d.prototype.addEvent=function(e){var t,n,r,i={type:e.initiator,resource:e,nodes_to_wait:0,total_nodes:0,resources:[],aborted:!1,complete:!1},o=this.pending_events.length;for(t=o-1;t>=0;t--)if(this.pending_events[t]&&!this.pending_events[t].complete){n=this.pending_events[t],r=t;break}if(n)if("click"===n.type)0!==n.nodes_to_wait&&n.resource.url||(this.pending_events[t]=void 0);else if("xhr"===n.type){if("click"===i.type)return null}else if(BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)){if("xhr"===i.type)return null;BOOMR.utils.inArray(i.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(a("Aborting previous SPA navigation"),n.resource.timing.loadEventEnd=BOOMR.now(),n.aborted=!0,this.sendEvent(r))}return this.watch++,this.pending_events.push(i),d.observer?(BOOMR.utils.inArray(i.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(1e3,o):this.setTimeout(50,o),o):BOOMR.utils.inArray(i.type,BOOMR.constants.BEACON_TYPE_SPAS)?(d.start(),this.setTimeout(1e3,o),o):(e.url&&e.timing.loadEventEnd&&this.sendEvent(o),null)},d.prototype.sendEvent=function(e){var n=this.pending_events[e],r=this,i=BOOMR.now();if(n&&!n.complete)if(this.clearTimeout(),BOOMR.readyToSend()){if(n.complete=!0,this.watch--,n.resource.resources=n.resources,BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(n.resource.url=t.URL),"spa"===n.type&&0===n.total_nodes&&n.resource.url===r.lastSpaLocation)return a("SPA beacon cancelled, no URL change or resources triggered"),BOOMR.fireEvent("spa_cancel"),void(this.pending_events[e]=void 0);BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(r.lastSpaLocation=n.resource.url,n.forced||0!==n.total_nodes||(n.resource.timing.loadEventEnd=i-1e3)),this.sendResource(n.resource,e)}else setTimeout(function(){r.sendEvent(e)},500)},d.prototype.sendResource=function(n,r){var o=this,a=o.pending_events[r],s=n.timing?n.timing.requestStart:void 0,u=function(e,a){if(e&&(n.timing.loadEventEnd=a||BOOMR.now()),BOOMR.real_sendBeacon(),n.onComplete&&n.onComplete(n),BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_enabled()&&n.timing&&n.timing.requestStart){var u=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(n.timing.requestStart,n.timing.loadEventEnd);BOOMR.plugins.ResourceTiming.addToBeacon(u)}BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(o.calculateSpaTimings(n),"number"==typeof r&&o.pending_events[r].aborted&&(BOOMR.addVar("pgu",t.URL),BOOMR.addVar("rt.quit",""),BOOMR.addVar("rt.abld",""),i.addedVars.push("pgu","rt.quit","rt.abld"))),BOOMR.responseEnd(n,s,n),"number"==typeof r&&(o.pending_events[r]=void 0)};if(n.wait)n.waitComplete=function(){u(!0)};else{if("spa_hard"===n.initiator&&!(a&&a.aborted||BOOMR.hasBrowserOnloadFired()))return void e.addEventListener("load",function(){var e=BOOMR.now();BOOMR.setImmediate(function(){u(!0,e)})});u(!1)}},d.prototype.calculateSpaTimings=function(e){var t=BOOMR.getPerformance();if(t&&t.timing)if("spa_hard"===e.initiator)e.timing.responseEnd=t.timing.responseStart,e.timing.fetchStart=t.timing.navigationStart;else{if(!BOOMR.plugins.ResourceTiming||!BOOMR.plugins.ResourceTiming.is_supported())return;var n=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(e.timing.requestStart,e.timing.loadEventEnd,i.spaBackEndResources).entries,r=Math.round(e.timing.loadEventEnd-e.timing.requestStart);if(!n||!n.length)return void(e.timers={t_resp:0,t_page:r,t_done:r});for(var o=e.timing.loadEventEnd-t.timing.navigationStart,a=0;a<n.length;a++)n[a].responseStart>o?(n[a].responseStart=o,n[a].responseEnd=o):n[a].responseEnd>o&&(n[a].responseEnd=o);var s=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(n)),u=r-s;if(s<0||r<0||u<0)return void BOOMR.addError("Incorrect SPA time calculation");e.timers={t_resp:s,t_page:u,t_done:r}}},d.prototype.setTimeout=function(e,t){var n=this;e&&(this.clearTimeout(),this.timer=setTimeout(function(){n.timedout(t)},e))},d.prototype.timedout=function(e){var t;this.clearTimeout(),(t=this.pending_events[e])&&BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS.concat("xhr"))?0===t.nodes_to_wait&&this.sendEvent(e):(this.watch>0&&this.watch--,this.pending_events[e]=void 0)},d.prototype.clearTimeout=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},d.prototype.load_cb=function(e,t){var n,r,i=BOOMR.now();(n=e.target||e.srcElement)&&n._bmr&&(r=n._bmr.idx,n._bmr.end[t=void 0!==t?t:n._bmr.res||0]||(n._bmr.end[t]=i,this.load_finished(r,i)))},d.prototype.load_finished=function(e,t){var n=this.pending_events[e];n&&(n.nodes_to_wait--,0===n.nodes_to_wait&&(n.resource.timing.loadEventEnd=t||BOOMR.now(),BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(1e3,e):this.sendEvent(e)))},d.prototype.wait_for_node=function(e,t){var n,o,s,u,d,c,l,O,p=this,f=!1,g=!1;if(e&&e.nodeName&&(e.nodeName.toUpperCase().match(/^(IMG|SCRIPT|IFRAME|IMAGE)$/)||"LINK"===e.nodeName.toUpperCase()&&e.rel&&e.rel.match(/\<stylesheet\>/i))){if(e._bmr&&"number"==typeof e._bmr.res&&e._bmr.end[e._bmr.res]&&(g=!0),!(d=e.src||"function"==typeof e.getAttribute&&e.getAttribute("xlink:href")||e.href)||d.match(/^(about:|javascript:|data:)/i))return!1;if(e._bmr&&e._bmr.url!==d&&(g=!0),"IMG"===e.nodeName){if(e.naturalWidth&&!g)return!1;if("function"==typeof e.getAttribute&&""===e.getAttribute("src"))return!1}if("IFRAME"===e.nodeName&&g)return!1;if("function"==typeof e.getAttribute&&(l=parseInt(e.getAttribute("height"),10),O=parseInt(e.getAttribute("width"),10)),isNaN(l)&&(l=!e.style||"0"!==e.style.height&&"0px"!==e.style.height&&"1px"!==e.style.height?void 0:0),isNaN(O)&&(O=!e.style||"0"!==e.style.width&&"0px"!==e.style.width&&"1px"!==e.style.width?void 0:0),!isNaN(l)&&l<=1&&!isNaN(O)&&O<=1)return!1;if(e.style&&"none"===e.style.display)return!1;if(e.style&&"hidden"===e.style.visibility)return!1;if(!(n=this.pending_events[t]))return!1;if(c=n.resources.length,e._bmr||(e._bmr={end:{}}),n.urls||(n.urls={}),n.urls[d])return!1;if("SCRIPT"===e.nodeName&&i.singlePageApp)return!1;if(!n.resource.url){if(r.href=d,i.excludeFilter(r))return a("Exclude for "+r.href+" matched. Excluding"),!1;n.resource.url=r.href}e._bmr.res=c,e._bmr.idx=t,delete e._bmr.end[c],e._bmr.url=d,e.addEventListener("load",function(e){p.load_cb(e,c)}),e.addEventListener("error",function(e){p.load_cb(e,c)}),n.nodes_to_wait++,this.clearTimeout(),n.total_nodes++,n.resources.push(e),n.urls[d]=1,f=!0}else e.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach(function(n){if((o=e.getElementsByTagName(n))&&o.length)for(s=0,u=o.length;s<u;s++)f|=this.wait_for_node(o[s],t)},this);return f},d.prototype.add_event_resource=function(e){var t,n=this.pending_events.length-1;return n<0?-1:(t=this.pending_events[n])&&e?(t.nodes_to_wait++,t.total_nodes++,e.index=n,n):-1},d.prototype.mutation_cb=function(e){var t,n,r;return!this.watch||(t=this,(n=this.pending_events.length-1)<0||!this.pending_events[n]||(void 0===(r=this.pending_events[n]).interesting&&(r.interesting=!1),e&&e.length&&(r.resource.timing.domComplete=BOOMR.now(),e.forEach(function(e){var i,o,a;if("attributes"===e.type)r.interesting|=t.wait_for_node(e.target,n);else if("childList"===e.type){for(o=e.addedNodes.length,i=0;i<o;i++)r.interesting|=t.wait_for_node(e.addedNodes[i],n);for(o=e.removedNodes.length,i=0;i<o;i++)"IFRAME"===(a=e.removedNodes[i]).nodeName&&a._bmr&&t.load_cb({target:a,type:"removed"})}})),r.interesting||this.timeoutExtended||(this.setTimeout(1e3,n),this.timeoutExtended=!0)),!0)},d.prototype.queue_is_empty=function(){return 0===this.nodesWaitingFor()},d.prototype.nodesWaitingFor=function(){if(0===this.pending_events.length)return 0;var e=this.pending_events.length-1;return this.pending_events[e]?this.pending_events[e].nodes_to_wait:0},d.prototype.hasActiveEvent=function(){if(0===this.pending_events.length)return!1;var e=this.pending_events[this.pending_events.length-1];return!!e&&"click"!==e.type},d.prototype.completeEvent=function(){var e,t,n=BOOMR.now();0!==this.pending_events.length&&(t=this.pending_events[e=this.pending_events.length-1])&&(t.resource.timing.loadEventEnd=n,t.forced=!0,this.sendEvent(e))},n=new d,i={spaBackEndResources:["xmlhttprequest","script"],alwaysSendXhr:!1,excludeFilters:[],initialized:!1,addedVars:[],captureXhrRequestResponse:!1,singlePageApp:!1,autoXhrEnabled:!1,monitorFetch:!1,fetchBodyUsedWait:200,excludeFilter:function(e){var t,n;if(!e||!e.href)return!1;for(t=0;t<i.excludeFilters.length;t++)if("function"==typeof i.excludeFilters[t].cb){n=i.excludeFilters[t].ctx,i.excludeFilters[t].name&&a("Running filter: "+i.excludeFilters[t].name+" on URL: "+e.href);try{if(i.excludeFilters[t].cb.call(n,e))return a("Found matching filter at: "+i.excludeFilters[t].name+" for URL: "+e.href),!0}catch(r){BOOMR.addError(r,"BOOMR.plugins.AutoXHR.impl.excludeFilter()")}}return!1},clear:function(){i.addedVars&&i.addedVars.length>0&&(BOOMR.removeVar(i.addedVars),i.addedVars=[])},loadFinished:function(e,t){var r,o,a,s,u;t=t||BOOMR.now(),e.timing.loadEventEnd||(e.status&&BOOMR.fireEvent("xhr_error",e),e.timing.loadEventEnd=t,(u=BOOMR.getPerformance())&&u.timing&&(o=u.timing.navigationStart,(r=BOOMR.getResourceTiming(e.url,function(e,t){return e.responseEnd-t.responseEnd},function(t){return Math.ceil(o+t.startTime+2)>=e.timing.requestStart&&0!==t.responseEnd}))&&(a=Math.floor(o+r.startTime),(s=Math.floor(o+r.responseEnd))<=BOOMR.now()&&(e.timing.responseEnd=s,e.timing.loadEventEnd<s&&(e.timing.loadEventEnd=s),e.timing.requestStart=a,e.timing.fetchStart=a,0!==r.responseStart&&(e.timing.responseStart=Math.floor(o+r.responseStart)),e.restiming=r))),n.hasActiveEvent()&&c(e.url,i.alwaysSendXhr)&&n.sendResource(e),e.index>-1?n.load_finished(e.index,e.timing.responseEnd):n.hasActiveEvent()||i.singlePageApp&&!i.autoXhrEnabled||n.addEvent(e))}},BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(n){var o,a;if(t=e.document,e&&t){if(r=t.createElement("A"),BOOMR.utils.pluginConfig(i,n,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait"]),BOOMR.instrumentXHR=p,BOOMR.uninstrumentXHR=f,BOOMR.instrumentFetch=l,BOOMR.uninstrumentFetch=O,i.initialized||(this.addExcludeFilter(u,null,"shouldExcludeXhr"),i.initialized=!0),n&&n.AutoXHR&&n.AutoXHR.excludeFilters&&n.AutoXHR.excludeFilters.length>0)for(a=0;a<n.AutoXHR.excludeFilters.length;a++)i.excludeFilters.push(n.AutoXHR.excludeFilters[a]);if(i.autoXhrEnabled=n.instrument_xhr,BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks){var s=BOOMR.plugins.SPA.supported_frameworks();for(o=0;o<s.length;o++){var d=s[o];if(n[d]&&n[d].enabled){i.singlePageApp=!0;break}}}if(i.alwaysSendXhr&&i.autoXhrEnabled&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){var c=function(e){if(e.length)for(o=0;o<e.length;o++)g(e[o]);else g(e)},h=BOOMR.xhr.stop(c);h&&h.length&&BOOMR.setImmediate(c,h)}i.singlePageApp?(i.alwaysSendXhr||(i.autoXhrEnabled=!1),i.autoXhrEnabled&&(BOOMR.instrumentXHR(),BOOMR.instrumentFetch())):i.autoXhrEnabled?(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()):!1===i.autoXhrEnabled&&(BOOMR.uninstrumentXHR(),BOOMR.uninstrumentFetch()),BOOMR.registerEvent("xhr_error"),BOOMR.subscribe("beacon",i.clear,null,i)}},getMutationHandler:function(){return n},getPathname:s,enableAutoXhr:function(){i.autoXhrEnabled||(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()),i.autoXhrEnabled=!0},addExcludeFilter:function(e,t,n){i.excludeFilters.push({cb:e,ctx:t,name:n})},setXhrRequestResponseCapturing:function(e){i.captureXhrRequestResponse=e}})}(),function(){var e,t=!1,n=!1,r=!1,i=!1,o=!1,a=!0,s=!1,u=!1,d=!1,c=[],l=!1;if(!BOOMR.plugins.SPA&&BOOMR.plugins.AutoXHR){var O={spaHardMissedOnComplete:function(e){var t,n=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart();l=!1,BOOMR.addVar("spa.missed","1"),BOOMR.plugins.RT&&BOOMR.plugins.RT.clearTimer("t_done"),e.timing.requestStart=n,0===e.resources.length&&(t=BOOMR.getPerformance())&&t.timing&&t.timing.navigationStart&&t.timing.loadEventEnd&&(e.timing.loadEventEnd=t.timing.loadEventEnd)},onBeacon:function(){BOOMR.removeVar("spa.missed","spa.forced","spa.waiting")}};BOOMR.plugins.SPA={is_complete:function(){return!l},init:function(e){e&&e.instrument_xhr&&(o=e.instrument_xhr,r&&o&&BOOMR.plugins.AutoXHR.enableAutoXhr()),n||(n=!0,BOOMR.subscribe("beacon",O.onBeacon,null,O))},register:function(e){c.push(e)},supported_frameworks:function(){return c},onLoadSpaHardMissed:function(){r||(i=!0,o&&BOOMR.plugins.AutoXHR.enableAutoXhr(),l=!0,d?l=!1:(BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL]),BOOMR.plugins.SPA.route_change(O.spaHardMissedOnComplete)))},hook:function(e,n){return n=n||{},p("Hooked"),t||("function"==typeof n.routeFilter&&(s=n.routeFilter),"function"==typeof n.routeChangeWaitFilter&&(u=n.routeChangeWaitFilter),n.disableHardNav&&(d=n.disableHardNav),e&&BOOMR.attach_page_ready(this.onLoadSpaHardMissed),t=!0),this},route_change:function(t,n){p("Route Change");var c=!1;if(s)try{if(!s.apply(null,n))return void p("Route filter returned false; not tracking this route")}catch(h){BOOMR.addError(h,"SPA.route_change.routeFilter")}r=!0;var l=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),O=i?BOOMR.now():l,f=BOOMR.window.document.URL,g={timing:{requestStart:O},initiator:a&&!d?"spa_hard":"spa",url:f};if(a=!1,i&&"function"!=typeof t||(i=!0,g.onComplete=function(e){c||(c=!0,BOOMR.fireEvent("spa_navigation")),"function"==typeof t&&t(e)}),u)try{u.apply(null,arguments)&&(g.wait=!0,e=g)}catch(h){BOOMR.addError(h,"SPA.route_change.routeChangeWaitFilter")}g.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(g),o&&BOOMR.plugins.AutoXHR.enableAutoXhr()},last_location:function(e){lastLocationChange=e},current_spa_nav:function(){return i?"spa":"spa_hard"},wait_complete:function(){e&&(e.wait=!1,e.waitComplete&&e.waitComplete(),e=null)},markNavigationComplete:function(){p("Navigation being marked complete");var e=BOOMR.plugins.AutoXHR.getMutationHandler();e&&(BOOMR.addVar("spa.forced","1"),BOOMR.addVar("spa.waiting",e.nodesWaitingFor()),e.completeEvent())}}}function p(e){BOOMR.debug(e,"SPA")}}(),function(){var e={auto:!1,enabled:!0,hooked:!1,routeHooked:!1,hadMissedRouteChange:!1,routeChangeInProgress:!1,disableHardNav:!1,resetRouteChangeInProgress:function(){t("resetting routeChangeInProgress"),e.routeChangeInProgress&&clearTimeout(e.routeChangeInProgress),e.routeChangeInProgress=!1},setRouteChangeInProgress:function(){e.routeChangeInProgress&&clearTimeout(e.routeChangeInProgress),e.routeChangeInProgress=setTimeout(e.resetRouteChangeInProgress,50)},spaInit:function(e,t){t?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),t]):e?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),e]):BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL])},routeChange:function(n,r){if(e.enabled){if(e.disableHardNav&&!BOOMR.onloadFired())return;e.routeChangeInProgress?t("routeChangeInProgress, not triggering"):(t("routeChange triggered, sending route_change() event"),e.spaInit(n,r),BOOMR.plugins.SPA.route_change())}else t("Not enabled - we've missed a routeChange"),e.hadMissedRouteChange=!0,e.resetRouteChangeInProgress()}};function t(e){BOOMR.debug(e,"History")}BOOMR.plugins.History||void 0===BOOMR.plugins.SPA||void 0===BOOMR.plugins.AutoXHR||BOOMR.window&&BOOMR.window.history&&(BOOMR.plugins.SPA.register("History"),BOOMR.plugins.History={is_complete:function(){return!0},hook:function(n,r,i){return(i=i||{}).disableHardNav=e.disableHardNav,e.hooked||function(){var n,r,i,o,a,s=BOOMR.window.history;function u(){BOOMR.window.addEventListener("popstate",function(n){t("popstate"),e.routeChange()})}return"function"==typeof s.pushState&&(s.pushState=(n=s.pushState,function(r,i,o){return t("pushState, title: "+i+" url: "+o),e.routeChange(i,o),n.apply(this,arguments)})),"function"==typeof s.replaceState&&(s.replaceState=(r=s.replaceState,function(n,i,o){return t("replaceState, title: "+i+" url: "+o),e.routeChange(i,o),r.apply(this,arguments)})),"function"==typeof s.go&&(s.go=(i=s.go,function(n){return t("go"),e.routeChange(),i.apply(this,arguments)})),"function"==typeof s.back&&(s.back=(o=s.back,function(){return t("back"),e.routeChange(),o.apply(this,arguments)})),"function"==typeof s.forward&&(s.forward=(a=s.forward,function(){return t("forward"),e.routeChange(),a.apply(this,arguments)})),BOOMR.window.addEventListener("hashchange",function(n){var r=(n||{}).newURL;t("hashchange "+r),e.routeChange(null,r)}),BOOMR.hasBrowserOnloadFired()?u():BOOMR.window.addEventListener("load",function(){setTimeout(u,0)}),BOOMR.subscribe("beacon",e.resetRouteChangeInProgress),BOOMR.subscribe("spa_cancel",e.resetRouteChangeInProgress),BOOMR.subscribe("spa_init",e.setRouteChangeInProgress),!0}()&&(BOOMR.plugins.SPA.hook(r,i),e.hooked=!0),this},init:function(t){return BOOMR.utils.pluginConfig(e,t,"History",["auto","enabled","disableHardNav"]),e.auto&&e.enabled&&this.hook(void 0,!0,{}),this},disable:function(){return e.enabled=!1,this},enable:function(){return e.enabled=!0,e.hooked&&e.hadMissedRouteChange&&(e.hadMissedRouteChange=!1,BOOMR.plugins.SPA.route_change(),e.setRouteChangeInProgress(),t("Hooked and hadMissedRouteChange sending route_change!")),this}})}(),i=window,BOOMR.plugins.RT||(a={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:1800,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,loadTime:0,oboError:0,t_start:void 0,cached_t_start:void 0,cached_xhr_start:void 0,t_fb_approx:void 0,r:void 0,beacon_url:void 0,next_beacon_url:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,addedVars:[],updateCookie:function(e,t){var n,r,i,o;if(!this.cookie)return!1;for(o in i=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{})i.hasOwnProperty(o)&&(isNaN(parseInt(o,10))||delete i[o]);if("object"==typeof e)for(o in e)e.hasOwnProperty(o)&&(void 0===e[o]?i.hasOwnProperty(o)&&delete i[o]:i[o]=e[o]);return i.z=1,i.dm=BOOMR.session.domain,i.si=BOOMR.session.ID,i.ss=BOOMR.session.start.toString(36),i.sl=BOOMR.session.length.toString(36),1800!==a.session_exp&&(i.se=a.session_exp.toString(36)),BOOMR.session.rate_limited&&(i.rl=1),i.tt=this.loadTime.toString(36),this.oboError>0?i.obo=this.oboError.toString(36):delete i.obo,r=BOOMR.now(),t&&(i[t]=(r-BOOMR.session.start).toString(36),a.lastActionTime=r),this.beacon_url&&(i.bcn=this.beacon_url),BOOMR.debug("Setting cookie (timer="+t+")\n"+BOOMR.utils.objectToString(i),"rt"),BOOMR.utils.setCookie(this.cookie,i,this.cookie_exp)?((n=BOOMR.now())-r>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+r+" -> "+n,"rt")),!0):(BOOMR.error("cannot set start cookie","rt"),!1)},refreshSession:function(e){e||(e=BOOMR.plugins.RT.getCookie()),e&&(BOOMR.session.start=e.ss?e.ss:BOOMR.t_lstart||BOOMR.t_start,e.si&&e.si.match(/-/)&&(BOOMR.session.ID=e.si),e.sl&&(BOOMR.session.length=e.sl),e.tt&&(this.loadTime=e.tt),e.obo&&(this.oboError=e.obo),e.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=e.dm),e.se&&(a.session_exp=e.se),e.bcn&&(this.beacon_url=e.bcn),e.rl&&"1"===e.rl&&(BOOMR.session.rate_limited=!0))},maybeResetSession:function(e,t){BOOMR.debug("Current session meta:\n"+BOOMR.utils.objectToString(BOOMR.session),"rt"),BOOMR.debug("Timers: t_start="+t+", sessionLoad="+a.loadTime+", sessionError="+a.oboError+", lastAction="+a.lastActionTime,"rt");var n=0;BOOMR.session.start&&BOOMR.session.length&&(n=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var r=1e3*a.session_exp;(!BOOMR.session.start||t&&BOOMR.session.start>t||e-(a.lastActionTime||BOOMR.t_start)>r||n>r)&&(BOOMR.session.start=t||BOOMR.t_lstart||BOOMR.t_start,BOOMR.session.length=0,BOOMR.session.rate_limited=!1,a.loadTime=0,a.oboError=0,a.beacon_url=a.next_beacon_url,a.lastActionTime=e,a.updateCookie({rl:void 0,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:a.loadTime,obo:void 0,bcn:a.beacon_url})),BOOMR.debug("New session meta:\n"+BOOMR.utils.objectToString(BOOMR.session),"rt"),BOOMR.debug("Timers: t_start="+t+", sessionLoad="+a.loadTime+", sessionError="+a.oboError,"rt")},initFromCookie:function(){var e,t,n;n=BOOMR.plugins.RT.getCookie(),this.cookie||(BOOMR.session.enabled=!1),n&&(n.s=Math.max(+n.ld||0,Math.max(+n.ul||0,+n.cl||0)),BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(n),"rt"),n.s&&(n.r||n.nu)&&(this.r=n.r,e=BOOMR.utils.MD5(o.URL),t=BOOMR.utils.MD5(o&&o.referrer||""),BOOMR.debug("referrer check: "+this.r+" =?= "+t,"rt"),n.cl&&BOOMR.debug(n.s+" <? "+(+n.cl+15),"rt"),n.nu&&BOOMR.debug(n.nu+" =?= "+e,"rt"),!this.strict_referrer||n.cl&&n.nu&&n.nu===e&&n.s<+n.cl+15||n.s===+n.ul&&this.r===t?(this.t_start=n.s,+n.hd>n.s&&(this.t_fb_approx=n.hd)):this.t_start=this.t_fb_approx=void 0),n.s&&(this.lastActionTime=n.s),this.refreshSession(n),this.updateCookie({s:void 0,ul:void 0,cl:void 0,hd:void 0,ld:void 0,rl:void 0,r:void 0,nu:void 0,sh:void 0}),this.maybeResetSession(BOOMR.now()))},incrementSessionDetails:function(){BOOMR.debug("Incrementing Session Details... ","RT"),BOOMR.session.length++,isNaN(a.timers.t_done.delta)?a.oboError++:a.loadTime+=a.timers.t_done.delta},getBoomerangTimings:function(){var e,t,n,r,i;function o(e,t){var n=Math.round(e||0),r=Math.round(t||0);return(n=0===n?0:n-r)||""}BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)));try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName)for(n in t={"rt.bmr":BOOMR.url},BOOMR.config_url&&(t["rt.cnf"]=BOOMR.config_url),t)if(t.hasOwnProperty(n)&&t[n]){if(!(e=window.performance.getEntriesByName(t[n]))||0===e.length||!e[0])continue;i=[r=o((e=e[0]).startTime,0),o(e.responseEnd,r),o(e.responseStart,r),o(e.requestStart,r),o(e.connectEnd,r),o(e.secureConnectionStart,r),o(e.connectStart,r),o(e.domainLookupEnd,r),o(e.domainLookupStart,r),o(e.redirectEnd,r),o(e.redirectStart,r)].join(",").replace(/,+$/,""),BOOMR.addVar(n,i),a.addedVars.push(n)}}catch(s){BOOMR.addError(s,"rt.getBoomerangTimings")}},checkPreRender:function(){return"prerender"===BOOMR.visibilityState()&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var e,t,n;this.navigationStart||((t=BOOMR.getPerformance())&&t.navigation&&(this.navigationType=t.navigation.type),t&&t.timing?e=t.timing:i.chrome&&i.chrome.csi&&i.chrome.csi().startE?(e={navigationStart:i.chrome.csi().startE},n="csi"):i.gtbExternal&&i.gtbExternal.startE()&&(e={navigationStart:i.gtbExternal.startE()},n="gtb"),e?(BOOMR.addVar("rt.start",n||"navigation"),this.navigationStart=e.navigationStart||e.fetchStart||void 0,this.fetchStart=e.fetchStart||void 0,this.responseStart=e.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=e.unloadEventStart||e.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt"))},validateLoadTimestamp:function(e,t,n){var r;return t&&t.timing&&t.timing.loadEventEnd?t.timing.loadEventEnd:"xhr"!==n||t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?(r=BOOMR.getPerformance())&&r.timing?r.timing.loadEventEnd?r.timing.loadEventEnd:e:BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||e:e},setPageLoadTimers:function(e,t,n){var r,i;if("xhr"!==e&&(a.initFromCookie(),a.initFromNavTiming(),a.checkPreRender()))return!1;if("xhr"===e)if(n.timers)for(var o in n.timers)n.timers.hasOwnProperty(o)&&BOOMR.plugins.RT.setTimer(o,n.timers[o]);else n&&n.timing&&(void 0===(i=n.timing.fetchStart)||n.timing.responseEnd>=i)&&(r=n.timing.responseEnd);else a.responseStart?a.responseStart>=a.navigationStart&&a.responseStart>=a.fetchStart&&(r=a.responseStart):a.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):a.t_fb_approx&&(r=a.t_fb_approx);return r&&(i?BOOMR.plugins.RT.setTimer("t_resp",i,r):BOOMR.plugins.RT.endTimer("t_resp",r),"load"===e&&a.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",a.timers.t_load.end-r):t<r?BOOMR.addVar("t_page.inv",1):BOOMR.plugins.RT.setTimer("t_page",t-r)),"load"===e&&a.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender")),!0},setSupportingTimestamps:function(e){e&&BOOMR.addVar("rt.tstart",e),"number"==typeof a.navigationStart&&a.navigationStart!==e&&BOOMR.addVar("rt.nstart",a.navigationStart),"number"==typeof a.t_start&&a.t_start!==e&&BOOMR.addVar("rt.cstart",a.t_start),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart),BOOMR.addVar("rt.end",a.timers.t_done.end)},determineTStart:function(e,t){var n;return"xhr"===e?(t&&t.name&&a.timers[t.name]?n=a.timers[t.name].start:t&&t.timing&&t.timing.requestStart&&(n=t.timing.requestStart),void 0===n&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual"),a.cached_xhr_start=n):(a.navigationStart?n=a.navigationStart:a.t_start&&2!==a.navigationType?(n=a.t_start,BOOMR.addVar("rt.start","cookie")):a.cached_t_start?n=a.cached_t_start:(BOOMR.addVar("rt.start","none"),n=void 0),a.cached_t_start=n),BOOMR.debug("Got start time: "+n,"rt"),n},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(a.visiblefired=!0)},prerenderToVisible:function(){a.onloadfired&&a.autorun&&(BOOMR.debug("Transitioned from prerender to "+BOOMR.visibilityState(),"rt"),BOOMR.addVar("vis.pre","1"),BOOMR.plugins.RT.done(null,"visible"))},page_unload:function(e){BOOMR.debug("Unload called when unloadfired = "+this.unloadfired,"rt"),this.unloadfired||BOOMR.plugins.RT.done(e,"unload"),this.updateCookie(!a.navigationStart&&a.strict_referrer?{r:BOOMR.utils.MD5(o.URL)}:null,"beforeunload"===e.type?"ul":"hd"),this.unloadfired=!0},_iterable_click:function(e,t,n,r){var i;if(n){for(BOOMR.debug(e+" called with "+n.nodeName,"rt");n&&n.nodeName&&n.nodeName.toUpperCase()!==t;)n=n.parentNode;n&&n.nodeName&&n.nodeName.toUpperCase()===t&&(BOOMR.debug("passing through","rt"),this.refreshSession(),this.maybeResetSession(BOOMR.now()),i=r(n),this.updateCookie({nu:BOOMR.utils.MD5(i)},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(i)),a.addedVars.push("nu"))}},onclick:function(e){a._iterable_click("Click","A",e,function(e){return e.href})},markComplete:function(){this.onloadfired&&(a.complete=!0)},onsubmit:function(e){a._iterable_click("Submit","FORM",e,function(e){var t="function"==typeof e.getAttribute&&e.getAttribute("action")||o.URL||"";return t.match(/\?/)?t:t+"?"})},onconfig:function(e){e.beacon_url&&(a.beacon_url=e.beacon_url),e.RT&&(e.RT.oboError&&!isNaN(e.RT.oboError)&&e.RT.oboError>a.oboError&&(a.oboError=e.RT.oboError),e.RT.loadTime&&!isNaN(e.RT.loadTime)&&e.RT.loadTime>a.loadTime&&(a.loadTime=e.RT.loadTime,a.timers.t_done&&!isNaN(a.timers.t_done.delta)&&(a.loadTime+=a.timers.t_done.delta)))},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){BOOMR.removeVar("rt.start"),a.addedVars&&a.addedVars.length>0&&(BOOMR.removeVar(a.addedVars),a.addedVars=[])},spaNavigation:function(){a.onloadfired=!0}},BOOMR.plugins.RT={init:function(e){if(BOOMR.debug("init RT","rt"),i!==BOOMR.window&&(i=BOOMR.window),e&&e.CrossDomain&&e.CrossDomain.sending&&(a.crossdomain_sending=!0),i&&i.document)return o=i.document,BOOMR.utils.pluginConfig(a,e,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]),e&&void 0!==e.autorun&&(a.autorun=e.autorun),e&&e.beacon_url&&(a.beacon_url&&!e.force_beacon_url||(a.beacon_url=e.beacon_url),a.next_beacon_url=e.beacon_url),void 0!==o&&(a.r=BOOMR.utils.hashQueryString(o.referrer,!0)),a.initFromCookie(),a.initialized||(a.complete=!1,a.timers={},a.check_visibility(),BOOMR.subscribe("page_ready",a.page_ready,null,a),BOOMR.subscribe("visibility_changed",a.check_visibility,null,a),BOOMR.subscribe("prerender_to_visible",a.prerenderToVisible,null,a),BOOMR.subscribe("page_ready",this.done,"load",this),BOOMR.subscribe("xhr_load",this.done,"xhr",this),BOOMR.subscribe("dom_loaded",a.domloaded,null,a),BOOMR.subscribe("page_unload",a.page_unload,null,a),BOOMR.subscribe("click",a.onclick,null,a),BOOMR.subscribe("form_submit",a.onsubmit,null,a),BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),BOOMR.subscribe("beacon",a.clear,null,a),BOOMR.subscribe("error",a.markComplete,null,a),BOOMR.subscribe("config",a.onconfig,null,a),BOOMR.subscribe("spa_navigation",a.spaNavigation,null,a),BOOMR.subscribe("interaction",a.markComplete,null,a),BOOMR.getBeaconURL=function(){return a.beacon_url},a.initialized=!0),this},startTimer:function(e,t){return e&&("t_page"===e&&this.endTimer("t_resp",t),a.timers[e]={start:"number"==typeof t?t:BOOMR.now()}),this},endTimer:function(e,t){return e&&(a.timers[e]=a.timers[e]||{},void 0===a.timers[e].end&&(a.timers[e].end="number"==typeof t?t:BOOMR.now())),this},clearTimer:function(e){return e&&delete a.timers[e],this},setTimer:function(e,t,n){return e&&(a.timers[e]=void 0!==n?{start:t,end:n,delta:n-t}:{delta:t}),this},addTimersToBeacon:function(e,t){var n,r,i=[];for(n in a.timers)if(a.timers.hasOwnProperty(n)){if("number"!=typeof(r=a.timers[n]).delta&&("number"!=typeof r.start&&(r.start="xhr"===t?a.cached_xhr_start:a.cached_t_start),r.delta=r.end-r.start),isNaN(r.delta))continue;a.basic_timers.hasOwnProperty(n)?(BOOMR.addVar(n,r.delta),a.addedVars.push(n)):i.push(n+"|"+r.delta)}i.length&&(BOOMR.addVar("t_other",i.join(",")),a.addedVars.push("t_other")),"beacon"===t&&(a.timers={},a.complete=!1)},done:function(e,t){BOOMR.debug("Called done: "+t,"rt");var n,r,i=BOOMR.now(),o=!1;return a.complete=!1,r=a.validateLoadTimestamp(i,e,t),"load"!==t&&"visible"!==t&&"xhr"!==t||a.setPageLoadTimers(t,r,e)?(("load"===t||"visible"===t||"xhr"===t&&e&&"spa_hard"===e.initiator)&&a.getBoomerangTimings(),n=a.determineTStart(t,e),a.refreshSession(),a.maybeResetSession(r,n),this.endTimer("t_done",r),e&&"xhr"===e.initiator&&this.setTimer("t_done",e.timing.requestStart,e.timing.loadEventEnd),BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","rt.tstart","rt.nstart","rt.cstart","rt.bstart","rt.end","rt.subres","http.errno","http.method","http.type","xhr.sync","fetch.bnu","rt.ss","rt.sl","rt.tt","rt.lt"),a.setSupportingTimestamps(n),this.addTimersToBeacon(null,t),BOOMR.setReferrer(a.r),"xhr"===t&&e&&e&&e.data&&(e=e.data),"xhr"===t&&e&&(o=e.subresource,e.url&&(BOOMR.addVar("u",BOOMR.utils.cleanupURL(e.url.replace(/#.*/,""))),a.addedVars.push("u")),e.status&&(e.status<-1||e.status>=400)&&BOOMR.addVar("http.errno",e.status),e.method&&"GET"!==e.method&&BOOMR.addVar("http.method",e.method),e.type&&"xhr"!==e.type&&BOOMR.addVar("http.type",e.type[0]),e.headers&&BOOMR.addVar("http.hdr",e.headers),e.synchronous&&BOOMR.addVar("xhr.sync",1),e.initiator&&BOOMR.addVar("http.initiator",e.initiator),e.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1),a.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator","fetch.bnu")),o&&"passive"!==o&&(BOOMR.addVar("rt.subres",1),a.addedVars.push("rt.subres")),("load"===t||"visible"===t||"xhr"===t&&!o||"unload"===t&&!a.onloadfired&&a.autorun&&!a.crossdomain_sending)&&(a.incrementSessionDetails(),a.updateCookie(null,"ld")),BOOMR.addVar({"rt.tt":a.loadTime,"rt.obo":a.oboError}),a.addedVars.push("rt.tt","rt.obo"),a.updateCookie(),"unload"===t&&(BOOMR.addVar("rt.quit",""),a.onloadfired||(BOOMR.addVar("rt.abld",""),a.addedVars.push("rt.abld")),a.visiblefired||BOOMR.addVar("rt.ntvu","")),a.complete=!0,BOOMR.sendBeacon(a.beacon_url),this):this},is_complete:function(e){return a.complete||e&&"error"===e["http.initiator"]},updateCookie:function(){a.updateCookie()},getCookie:function(){var e,t,n;return!!a.cookie&&((e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(a.cookie))||{})&&(1&e.z?(t=36,n=parseInt(e.ss||0,36)):(t=10,n=0),e.ss=parseInt(e.ss||0,t),e.tt=parseInt(e.tt||0,t),e.obo=parseInt(e.obo||0,t),e.sl=parseInt(e.sl||0,t),e.se&&(e.se=parseInt(e.se,t)||1800),e.ld&&(e.ld=n+parseInt(e.ld,t)),e.ul&&(e.ul=n+parseInt(e.ul,t)),e.cl&&(e.cl=n+parseInt(e.cl,t)),e.hd&&(e.hd=n+parseInt(e.hd,t))),e)},incrementSessionDetails:function(){a.incrementSessionDetails()},navigationStart:function(){return a.navigationStart||a.initFromNavTiming(),a.navigationStart}}),function(){if(!BOOMR.plugins.PaintTiming){var e={"first-paint":"fp","first-contentful-paint":"fcp"},t={initialized:!1,complete:!1,supported:null,timingCache:{},done:function(n,r){var i,o,a;if(this.complete)return this;if("load"!==r&&(!n||"spa_hard"!==n.initiator))return this.complete=!0,this;if((i=BOOMR.getPerformance())&&"function"==typeof i.getEntriesByType){if((o=i.getEntriesByType("paint"))&&o.length){for(BOOMR.info("This user agent supports PaintTiming","pt"),a=0;a<o.length;a++)t.timingCache[o[a].name]=o[a].startTime,e[o[a].name]&&BOOMR.addVar("pt."+e[o[a].name],Math.floor(o[a].startTime),!0);this.complete=!0,BOOMR.sendBeacon()}}else this.complete=!0}};BOOMR.plugins.PaintTiming={init:function(){return this.is_supported()||(t.complete=!0,t.initialized=!0),t.complete||"hidden"!==BOOMR.visibilityState()||(BOOMR.addVar("pt.hid",1,!0),t.complete=!0),t.initialized||(BOOMR.subscribe("page_ready",t.done,"load",t),BOOMR.subscribe("xhr_load",t.done,"xhr",t),BOOMR.subscribe("before_unload",t.done,null,t),t.initialized=!0),this},is_complete:function(){return!0},is_enabled:function(){return t.initialized&&this.is_supported()},is_supported:function(){if(null!==t.supported)return t.supported;var e=BOOMR.getPerformance();return t.supported=e&&void 0!==window.PerformancePaintTiming&&"function"==typeof e.getEntriesByType,t.supported},getTimingFor:function(e){var n,r,i;if(t.timingCache[e])return t.timingCache[e];if(this.is_supported()&&(i=BOOMR.getPerformance())&&"function"==typeof i.getEntriesByType&&(n=i.getEntriesByType("paint"))&&n.length)for(r=0;r<n.length;r++)if(n[r].name===e)return t.timingCache[e]=n[r].startTime,t.timingCache[e]}}}}(),function(){if(!BOOMR.plugins.NavigationTiming){var e={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0,BOOMR.sendBeacon()},xhr_done:function(t){var n;if(t&&"spa_hard"===t.initiator)e.done(t);else if(t&&"spa"===t.initiator)e.sendBeacon();else{BOOMR;var r,i,o={};if(t){if(t.data&&(t=t.data),(n=BOOMR.getPerformance())&&t.restiming)for(i in o={nt_red_st:t.restiming.redirectStart,nt_red_end:t.restiming.redirectEnd,nt_fet_st:t.restiming.fetchStart,nt_dns_st:t.restiming.domainLookupStart,nt_dns_end:t.restiming.domainLookupEnd,nt_con_st:t.restiming.connectStart,nt_con_end:t.restiming.connectEnd,nt_req_st:t.restiming.requestStart,nt_res_st:t.restiming.responseStart,nt_res_end:t.restiming.responseEnd},t.restiming.secureConnectionStart&&(o.nt_ssl_st=t.restiming.secureConnectionStart),o)o.hasOwnProperty(i)&&o[i]&&(o[i]+=n.timing.navigationStart,o[i]=Math.floor(o[i]));for(i in t.timing&&(r=t.timing,o.nt_req_st||(o.nt_req_st=r.requestStart),o.nt_res_st||(o.nt_res_st=r.responseStart),o.nt_res_end||(o.nt_res_end=r.responseEnd),o.nt_domint=r.domInteractive,o.nt_domcomp=r.domComplete,o.nt_load_st=r.loadEventEnd,o.nt_load_end=r.loadEventEnd),o)o.hasOwnProperty(i)&&!o[i]&&delete o[i];BOOMR.addVar(o);try{e.addedVars.push.apply(e.addedVars,Object.keys(o))}catch(a){}e.sendBeacon()}}},done:function(){var n,r,i,o,a,s=BOOMR.window,u={},d=0;if(this.complete)return this;if(e.addedVars=[],n=BOOMR.getPerformance()){for(k in"function"==typeof n.getEntriesByType&&((o=n.getEntriesByType("navigation"))&&o.length?(BOOMR.info("This user agent supports NavigationTiming2","nt"),o=o[0],d=n.timing?n.timing.navigationStart:0):o=void 0),!o&&n.timing&&(BOOMR.info("This user agent supports NavigationTiming","nt"),o=n.timing),o&&(!(u={nt_nav_st:n.timing?n.timing.navigationStart:0,nt_red_st:t(d,o.redirectStart),nt_red_end:t(d,o.redirectEnd),nt_fet_st:t(d,o.fetchStart),nt_dns_st:t(d,o.domainLookupStart),nt_dns_end:t(d,o.domainLookupEnd),nt_con_st:t(d,o.connectStart),nt_con_end:t(d,o.connectEnd),nt_req_st:t(d,o.requestStart),nt_res_st:t(d,o.responseStart),nt_res_end:t(d,o.responseEnd),nt_domloading:t(d,o.domLoading),nt_domint:t(d,o.domInteractive),nt_domcontloaded_st:t(d,o.domContentLoadedEventStart),nt_domcontloaded_end:t(d,o.domContentLoadedEventEnd),nt_domcomp:t(d,o.domComplete),nt_load_st:t(d,o.loadEventStart),nt_load_end:t(d,o.loadEventEnd),nt_unload_st:t(d,o.unloadEventStart),nt_unload_end:t(d,o.unloadEventEnd)}).nt_domloading&&n&&n.timing&&n.timing.domLoading&&(u.nt_domloading=n.timing.domLoading),o.secureConnectionStart&&(u.nt_ssl_st=t(d,o.secureConnectionStart)),n.timing&&n.timing.msFirstPaint&&(u.nt_first_paint=n.timing.msFirstPaint),o.workerStart&&(u.nt_worker_start=t(d,o.workerStart)),(o.decodedBodySize||o.transferSize)&&(u.nt_enc_size=o.encodedBodySize,u.nt_dec_size=o.decodedBodySize,u.nt_trn_size=o.transferSize),o.nextHopProtocol&&(u.nt_protocol=o.nextHopProtocol)),!u.nt_first_paint&&BOOMR.plugins.PaintTiming&&(a=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(u.nt_first_paint=t(d,a)),u.nt_protocol&&u.nt_first_paint||o&&""===o.nextHopProtocol||!s.chrome||"function"!=typeof s.chrome.loadTimes||(i=s.chrome.loadTimes())&&(u.nt_spdy=i.wasFetchedViaSpdy?1:0,u.nt_cinf=i.connectionInfo,"number"==typeof i.firstPaintTime&&0!==i.firstPaintTime&&(u.nt_first_paint=Math.round(1e3*i.firstPaintTime))),n.navigation&&(u.nt_red_cnt=(r=n.navigation).redirectCount,u.nt_nav_type=r.type),u)u.hasOwnProperty(k)&&void 0===u[k]&&delete u[k];BOOMR.addVar(u),o&&(o.requestStart&&o.navigationStart&&o.requestStart<o.navigationStart||o.responseStart&&o.navigationStart&&o.responseStart<o.navigationStart||o.responseStart&&o.fetchStart&&o.responseStart<o.fetchStart||o.navigationStart&&o.fetchStart<o.navigationStart||o.responseEnd&&o.responseEnd>BOOMR.now()+864e5)&&(BOOMR.addVar("nt_bad",1),e.addedVars.push("nt_bad"));try{e.addedVars.push.apply(e.addedVars,Object.keys(u))}catch(c){}u.nt_load_end>0&&(this.fullySent=!0)}e.sendBeacon()},clear:function(){e.addedVars&&e.addedVars.length>0&&(BOOMR.removeVar(e.addedVars),e.addedVars=[]),this.complete=this.fullySent},prerenderToVisible:function(){this.complete=!1,this.done()}};BOOMR.plugins.NavigationTiming={init:function(){return e.initialized||(BOOMR.subscribe("page_ready",e.done,null,e),BOOMR.subscribe("prerender_to_visible",e.prerenderToVisible,null,e),BOOMR.subscribe("xhr_load",e.xhr_done,null,e),BOOMR.subscribe("before_unload",e.done,null,e),BOOMR.subscribe("beacon",e.clear,null,e),e.initialized=!0),this},is_complete:function(){return!0}}}function t(e,t){if("number"==typeof t&&0!==t)return Math.floor((e||0)+t)}}(),function(){var e;if(!BOOMR.plugins.ResourceTiming){var t={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a"},n={prefetch:1,preload:2,prerender:3,stylesheet:4},r=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"];e={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(){this.complete||(this.complete=!0,BOOMR.sendBeacon())},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,trackedResourceTypes:"*",done:function(){this.sentNavBeacon||(h(),this.complete=!0,this.sentNavBeacon=!0,BOOMR.sendBeacon())},onBeacon:function(t){var n=BOOMR.getPerformance();if(t.hasOwnProperty("restiming")&&BOOMR.removeVar("restiming"),t.hasOwnProperty("servertiming")&&BOOMR.removeVar("servertiming"),e.clearOnBeacon&&n){var r=n.clearResourceTimings||n.webkitClearResourceTimings;r&&"function"==typeof r&&r.call(n)}},prerenderToVisible:function(){this.sentNavBeacon=!1,this.done()}},BOOMR.plugins.ResourceTiming={init:function(t){if(BOOMR.utils.pluginConfig(e,t,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings"]),e.initialized)return this;if(this.is_supported()){if(BOOMR.subscribe("page_ready",e.done,null,e),BOOMR.subscribe("prerender_to_visible",e.prerenderToVisible,null,e),BOOMR.subscribe("xhr_load",e.xhr_load,null,e),BOOMR.subscribe("beacon",e.onBeacon,null,e),BOOMR.subscribe("before_unload",e.done,null,e),e.monitorClearResourceTimings){var n=this;BOOMR.window.performance.clearResourceTimings=(r=BOOMR.window.performance.clearResourceTimings,function(){n.addResources(BOOMR.window.performance.getEntriesByType("resource")),r.apply(BOOMR.window.performance,arguments)})}}else e.complete=!0;var r;return e.initialized=!0,this},is_complete:function(){return!0},is_enabled:function(){return e.initialized&&this.is_supported()},is_supported:function(){if(null!==e.supported)return e.supported;var t=BOOMR.getPerformance();return e.supported=t&&"function"==typeof t.getEntriesByType&&void 0!==window.PerformanceResourceTiming,e.supported},addResources:function(t,n){if(this.is_supported()&&BOOMR.utils.isArray(t)){if(e.collectedEntries=e.collectedEntries||[],"number"==typeof n){var i=n-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);t=BOOMR.utils.arrayFilter(t,function(e){for(var t=0;t<r.length;t++){var n=r[t];e.hasOwnProperty(n)&&(e[n]+=i)}return!0})}Array.prototype.push.apply(e.collectedEntries,t)}},getCompressedResourceTiming:f,getFilteredResourceTiming:O,calculateResourceTimingUnion:function(e){var t;if(!e||!e.length)return 0;e.sort(function(e,t){return e.fetchStart!==t.fetchStart?e.fetchStart-t.fetchStart:(e.responseStart||e.responseEnd)-(t.responseStart||t.responseEnd)});var n=g(e),r=[],i=0;for(t=0;t<n.length;t++){var o=n[t];o.fetchStart<i&&(o.fetchStart=i),o.fetchStart<o.responseEnd&&(r.push(o),i=o.responseEnd)}var a=g(r),s=0;for(t=0;t<a.length;t++)s+=a[t].responseEnd-a[t].fetchStart;return s},addResourceTimingToBeacon:h,addToBeacon:v}}function i(t){var n,r,i,o,a,s,u,d,c={};for(n in t){for(r=n,i=0;i<e.xssBreakWords.length;i++)r=r.replace(e.xssBreakWords[i],"$1\n$2");if(t.hasOwnProperty(n))for(o=t[n],a=r.split(""),u=c,i=0;i<a.length;i++)void 0===(d=u[s=a[i]])?u=u[s]=i===a.length-1?o:{}:"string"==typeof d?u=u[s]={"|":d}:i===a.length-1?u[s]["|"]=o:u=u[s]}return c}function o(e,t){var n,r,i,a=0,s=[];for(n in e)e.hasOwnProperty(n)&&s.push(n);for(var u=0;u<s.length;u++)"object"==typeof e[n=s[u]]&&(r=o(e[n],!1))&&(delete e[n],"\n"===n?(n=r.name,a++):n+=r.name,e[n]=r.value),a++;return 1===a?t?((i={})[n]=e[n],i):{name:n,value:e[n]}:!!t&&e}function a(e,t){"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0);var n=Math.round(e||0),r=Math.round(t||0);return 0===n?0:n-r}function s(e){try{if("performance"in e&&e.performance)return!0}catch(t){}return!1}function u(e){var t=0;return s(e)&&e.performance.timing&&e.performance.timing.navigationStart&&(t=e.performance.timing.navigationStart),t}function d(t,i,o,a,l){var O,p,f,g,h,m,R,B,v,_,M,b,y=[],S={},E={};if(void 0===i&&(i=!0),void 0===o&&(o=0),void 0===a&&(a=0),a>10)return y;try{var w=function(t){return e.serverTiming&&t.serverTiming||[]};if(!s(t))return y;if(f=u(t),_=function(e,t){var n,r,i={},o=e.document,a=o.createElement("A");return n=(t=t||[0,0,0,0])[3]+(void 0!==e.pageXOffset)?e.pageXOffset:(o.documentElement||o.body.parentNode||o.body).scrollLeft,r=t[2]+(void 0!==e.pageYOffset)?e.pageYOffset:(o.documentElement||o.body.parentNode||o.body).scrollTop,["img","iframe","image"].forEach(function(e){var t,s,u,d,c=o.getElementsByTagName(e);for(s=0;s<c.length;s++)if((t=c[s])&&(d=t.currentSrc||t.src||"function"==typeof t.getAttribute&&t.getAttribute("src")||t.getAttribute("xlink:href"),a.href=d,(d=a.href)&&!i[d]&&((u=t.getBoundingClientRect()).height||t.offsetHeight)&&(u.width||t.offsetWidth))){if(i[d]=[u.height||t.offsetHeight,u.width||t.offsetWidth,Math.round(u.top+r),Math.round(u.left+n)],!t.naturalHeight&&!t.naturalWidth)continue;var l,O,p;t.currentSrc&&(t.srcset||t.parentNode&&t.parentNode.nodeName&&"PICTURE"===t.parentNode.nodeName.toUpperCase())?(l=t.isConnected?t.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=d:l=t,p=l.naturalWidth||t.naturalWidth,!(O=l.naturalHeight||t.naturalHeight)&&!p||i[d][0]===O&&i[d][1]===p||i[d].push(O,p)}}),i}(t,l),c(M=t.document.createElement("a"),S,"script"),c(M,E,"link"),(m=t.document.getElementsByTagName("iframe"))&&m.length)for(O=0;O<m.length;O++)g=u(m[O].contentWindow),h=0,g>f&&(h=o+(g-f)),M.href=m[O].src,y=y.concat(d(m[O].contentWindow,!1,h,a+1,_[M.href]));if("function"!=typeof t.performance.getEntriesByType)return y;i&&((p=t.performance.getEntriesByType("navigation"))&&1===p.length?y.push({name:t.location.href,startTime:0,initiatorType:"html",redirectStart:(R=p[0]).redirectStart,redirectEnd:R.redirectEnd,fetchStart:R.fetchStart,domainLookupStart:R.domainLookupStart,domainLookupEnd:R.domainLookupEnd,connectStart:R.connectStart,secureConnectionStart:R.secureConnectionStart,connectEnd:R.connectEnd,requestStart:R.requestStart,responseStart:R.responseStart,responseEnd:R.responseEnd,workerStart:R.workerStart,encodedBodySize:R.encodedBodySize,decodedBodySize:R.decodedBodySize,transferSize:R.transferSize,serverTiming:w(R)}):t.performance.timing&&0!==(B=t.performance.timing).navigationStart&&B.responseEnd<=B.navigationStart+36e5&&y.push({name:t.location.href,startTime:0,initiatorType:"html",redirectStart:B.redirectStart?B.redirectStart-B.navigationStart:0,redirectEnd:B.redirectEnd?B.redirectEnd-B.navigationStart:0,fetchStart:B.fetchStart?B.fetchStart-B.navigationStart:0,domainLookupStart:B.domainLookupStart?B.domainLookupStart-B.navigationStart:0,domainLookupEnd:B.domainLookupEnd?B.domainLookupEnd-B.navigationStart:0,connectStart:B.connectStart?B.connectStart-B.navigationStart:0,secureConnectionStart:B.secureConnectionStart?B.secureConnectionStart-B.navigationStart:0,connectEnd:B.connectEnd?B.connectEnd-B.navigationStart:0,requestStart:B.requestStart?B.requestStart-B.navigationStart:0,responseStart:B.responseStart?B.responseStart-B.navigationStart:0,responseEnd:B.responseEnd?B.responseEnd-B.navigationStart:0}));var T=t.performance.getEntriesByType("resource"),x=[];for(t===BOOMR.window&&e.collectedEntries&&(Array.prototype.push.apply(T,e.collectedEntries),e.collectedEntries=[]),O=0;T&&O<T.length;O++){v={name:(B=T[O]).name,initiatorType:B.initiatorType,encodedBodySize:B.encodedBodySize,decodedBodySize:B.decodedBodySize,transferSize:B.transferSize,serverTiming:w(B),visibleDimensions:_[B.name],latestTime:(b=B,b.responseEnd?b.responseEnd:b.responseStart&&b.startTime?b.responseStart+.2*(b.responseStart-b.startTime):1/0)};for(var P=0;P<r.length;P++){var C=r[P];v[C]="startTime"===C||B[C]?B[C]+o:0}if(B.hasOwnProperty("_data")&&(v._data=B._data),("script"===B.initiatorType||"link"===B.initiatorType)&&S[B.name]){var k=S[B.name];for(v.scriptAttrs=(k.async?1:0)|(k.defer?2:0);1===k.nodeType&&"BODY"!==k.nodeName;)k=k.parentNode;v.scriptAttrs|="BODY"===k.nodeName?4:0}"link"===B.initiatorType&&E[B.name]&&BOOMR.utils.arrayFind(E[B.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),function(e){if(e=e.toLowerCase(),n[e])return v.linkAttrs=n[e],!0}),x.push(v)}y=y.concat(x)}catch(A){return y}return y}function c(e,t,n){Array.prototype.forEach.call(e.ownerDocument.getElementsByTagName(n),function(n){e.href=n.currentSrc||n.src||"function"==typeof n.getAttribute&&n.getAttribute("xlink:href")||n.href,e.href.match(/^https?:\/\//)&&(t[e.href]=n)})}function l(e){return"number"==typeof e&&0!==e?e.toString(36):"string"==typeof e?e:""}function O(e,t,n){var r,i,o=d(BOOMR.window,!0,0,0),a=u(BOOMR.window),s={};if(!o||!o.length)return{entries:[]};o.sort(function(e,t){return e.startTime-t.startTime});var c=[];for(r=0;r<o.length;r++)if(0!==(i=o[r]).name.indexOf("about:")&&0!==i.name.indexOf("javascript:")&&0!==i.name.indexOf("res:")&&!(i.name.indexOf(BOOMR.url)>-1||i.name.indexOf(BOOMR.config_url)>-1||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&i.name.indexOf(BOOMR.getBeaconURL())>-1||e&&a+i.startTime<e)){if(t&&a+i.startTime>t)break;(void 0===n||"*"===n||!n.length||i.initiatorType&&BOOMR.utils.inArray(i.initiatorType,n))&&(m(s,i.serverTiming),c.push(i))}var l=function(e){return Object.keys(e).sort(function(t,n){return e[n].count-e[t].count}).reduce(function(t,n){var r=Object.keys(e[n].counts).sort(function(t,r){return e[n].counts[r]-e[n].counts[t]});return t.push(1===r.length&&""===r[0]?n:[n].concat(r)),t},[])}(s);return{entries:c,serverTiming:{lookup:l,indexed:R(l)}}}function p(t,n){var r,i,o;if(t&&n)for(r=0;r<n.length;r++)if("string"==typeof(o=n[r])){if(-1!==(i=t.indexOf(o))){t=t.substr(0,i+o.length)+"...";break}}else o instanceof RegExp&&o.test(t)&&(t=t.replace(o,"$1")+"...");return BOOMR.utils.cleanupURL(t,e.urlLimit)}function f(n,r){var s,u,d,c,f,g,h,m,R,v={},_={},M=O(n,r,e.trackedResourceTypes),b=M.entries,y=M.serverTiming;if(!b||!b.length)return{restiming:{},servertiming:[]};for(s=0;s<b.length;s++){void 0===(d=t[(u=b[s]).initiatorType])&&(d=0),f=d+[a(u.startTime,0),a(u.responseEnd,u.startTime),a(u.responseStart,u.startTime),a(u.requestStart,u.startTime),a(u.connectEnd,u.startTime),a(u.secureConnectionStart,u.startTime),a(u.connectStart,u.startTime),a(u.domainLookupEnd,u.startTime),a(u.domainLookupStart,u.startTime),a(u.redirectEnd,u.startTime),a(u.redirectStart,u.startTime)].map(l).join(",").replace(/,+$/,"");var S=(h=void 0,m=void 0,R=void 0,(g=u).encodedBodySize||g.decodedBodySize||g.transferSize?[m=g.encodedBodySize,(h=g.transferSize)?h-m:"_",(R=g.decodedBodySize)?R-m:0].map(l).join(",").replace(/,+$/,""):"");if(""!==S&&(f+="*1"+S),u.hasOwnProperty("scriptAttrs")&&(f+="*2"+u.scriptAttrs),u.serverTiming&&u.serverTiming.length&&(f+="*3"+u.serverTiming.reduce(function(e,t,n){var r=String(void 0!==t.duration?t.duration:t.value);"0."===r.substring(0,2)&&(r=r.substring(1));var i=t.name||t.metric;return e+(n>0?",":"")+r+B(y.indexed[i].index,y.indexed[i].descriptions[t.description])},"")),u.hasOwnProperty("linkAttrs")&&(f+="*4"+u.linkAttrs),c=p(u.name,e.trimUrls),u.hasOwnProperty("_data")){var E="";for(var w in u._data)u._data.hasOwnProperty(w)&&(E+="*5"+w+":"+u._data[w]);void 0===v[c]?v[c]=f+E:v[c]+=E}else void 0!==v[c]?v[c]+="|"+f:v[c]=u.visibleDimensions?"*0"+u.visibleDimensions.map(Math.round).map(l).join(",").replace(/,+$/,"")+"|"+f:f;u.visibleDimensions&&(_[u.latestTime]||(_[u.latestTime]=[]),_[u.latestTime].push(u.visibleDimensions))}return{restiming:o(i(v),!0),servertiming:y.lookup}}function g(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++){var r=e[n];n!==e.length-1&&r.fetchStart===e[n+1].fetchStart||t.push({fetchStart:r.fetchStart,responseEnd:r.responseStart||r.responseEnd})}return t}function h(e,t){var n;"undefined"!=typeof JSON&&(BOOMR.removeVar("restiming"),BOOMR.removeVar("servertiming"),(n=f(e,t))&&(BOOMR.info("Client supports Resource Timing API","restiming"),v(n)))}function m(e,t){(t||[]).forEach(function(t){var n=t.name||t.metric;void 0===e[n]&&(e[n]={count:0,counts:{}});var r=e[n];r.counts[t.description]=r.counts[t.description]||0,r.counts[t.description]++,r.count++})}function R(e){return e.reduce(function(e,t,n){var r,i;return Array.isArray(t)?(r=t[0],i=t.slice(1).reduce(function(e,t,n){return e[t]=n,e},{})):(r=t,i={"":0}),e[r]={index:n,descriptions:i},e},{})}function B(e,t){var n="";return e&&(n+=e),t&&(n+="."+t),n.length&&(n=":"+n),n}function v(e){BOOMR.addVar("restiming",JSON.stringify(e.restiming)),e.servertiming.length&&BOOMR.addVar("servertiming",BOOMR.utils.serializeForUrl(e.servertiming))}}(),function(){"use strict";function e(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function t(t,n,r,i,o,a){return e((s=e(e(n,t),e(i,a)))<<(u=o)|s>>>32-u,r);var s,u}function n(e,n,r,i,o,a,s){return t(n&r|~n&i,e,n,o,a,s)}function r(e,n,r,i,o,a,s){return t(n&i|r&~i,e,n,o,a,s)}function i(e,n,r,i,o,a,s){return t(n^r^i,e,n,o,a,s)}function o(e,n,r,i,o,a,s){return t(r^(n|~i),e,n,o,a,s)}function a(t,a){t[a>>5]|=128<<a%32,t[14+(a+64>>>9<<4)]=a;var s,u,d,c,l,O=1732584193,p=-271733879,f=-1732584194,g=271733878;for(s=0;s<t.length;s+=16)u=O,d=p,c=f,l=g,O=n(O,p,f,g,t[s],7,-680876936),g=n(g,O,p,f,t[s+1],12,-389564586),f=n(f,g,O,p,t[s+2],17,606105819),p=n(p,f,g,O,t[s+3],22,-1044525330),O=n(O,p,f,g,t[s+4],7,-176418897),g=n(g,O,p,f,t[s+5],12,1200080426),f=n(f,g,O,p,t[s+6],17,-1473231341),p=n(p,f,g,O,t[s+7],22,-45705983),O=n(O,p,f,g,t[s+8],7,1770035416),g=n(g,O,p,f,t[s+9],12,-1958414417),f=n(f,g,O,p,t[s+10],17,-42063),p=n(p,f,g,O,t[s+11],22,-1990404162),O=n(O,p,f,g,t[s+12],7,1804603682),g=n(g,O,p,f,t[s+13],12,-40341101),f=n(f,g,O,p,t[s+14],17,-1502002290),O=r(O,p=n(p,f,g,O,t[s+15],22,1236535329),f,g,t[s+1],5,-165796510),g=r(g,O,p,f,t[s+6],9,-1069501632),f=r(f,g,O,p,t[s+11],14,643717713),p=r(p,f,g,O,t[s],20,-373897302),O=r(O,p,f,g,t[s+5],5,-701558691),g=r(g,O,p,f,t[s+10],9,38016083),f=r(f,g,O,p,t[s+15],14,-660478335),p=r(p,f,g,O,t[s+4],20,-405537848),O=r(O,p,f,g,t[s+9],5,568446438),g=r(g,O,p,f,t[s+14],9,-1019803690),f=r(f,g,O,p,t[s+3],14,-187363961),p=r(p,f,g,O,t[s+8],20,1163531501),O=r(O,p,f,g,t[s+13],5,-1444681467),g=r(g,O,p,f,t[s+2],9,-51403784),f=r(f,g,O,p,t[s+7],14,1735328473),O=i(O,p=r(p,f,g,O,t[s+12],20,-1926607734),f,g,t[s+5],4,-378558),g=i(g,O,p,f,t[s+8],11,-2022574463),f=i(f,g,O,p,t[s+11],16,1839030562),p=i(p,f,g,O,t[s+14],23,-35309556),O=i(O,p,f,g,t[s+1],4,-1530992060),g=i(g,O,p,f,t[s+4],11,1272893353),f=i(f,g,O,p,t[s+7],16,-155497632),p=i(p,f,g,O,t[s+10],23,-1094730640),O=i(O,p,f,g,t[s+13],4,681279174),g=i(g,O,p,f,t[s],11,-358537222),f=i(f,g,O,p,t[s+3],16,-722521979),p=i(p,f,g,O,t[s+6],23,76029189),O=i(O,p,f,g,t[s+9],4,-640364487),g=i(g,O,p,f,t[s+12],11,-421815835),f=i(f,g,O,p,t[s+15],16,530742520),O=o(O,p=i(p,f,g,O,t[s+2],23,-995338651),f,g,t[s],6,-198630844),g=o(g,O,p,f,t[s+7],10,1126891415),f=o(f,g,O,p,t[s+14],15,-1416354905),p=o(p,f,g,O,t[s+5],21,-57434055),O=o(O,p,f,g,t[s+12],6,1700485571),g=o(g,O,p,f,t[s+3],10,-1894986606),f=o(f,g,O,p,t[s+10],15,-1051523),p=o(p,f,g,O,t[s+1],21,-2054922799),O=o(O,p,f,g,t[s+8],6,1873313359),g=o(g,O,p,f,t[s+15],10,-30611744),f=o(f,g,O,p,t[s+6],15,-1560198380),p=o(p,f,g,O,t[s+13],21,1309151649),O=o(O,p,f,g,t[s+4],6,-145523070),g=o(g,O,p,f,t[s+11],10,-1120210379),f=o(f,g,O,p,t[s+2],15,718787259),p=o(p,f,g,O,t[s+9],21,-343485551),O=e(O,u),p=e(p,d),f=e(f,c),g=e(g,l);return[O,p,f,g]}function s(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function c(e){return unescape(encodeURIComponent(e))}function l(e){return function(e){return s(a(u(e),8*e.length))}(c(e))}function O(e,t){return function(e,t){var n,r,i=u(e),o=[],d=[];for(o[15]=d[15]=void 0,i.length>16&&(i=a(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],d[n]=1549556828^i[n];return r=a(o.concat(u(t)),512+8*t.length),s(a(d.concat(r),640))}(c(e),c(t))}BOOMR.utils=BOOMR.utils||{},BOOMR.utils&&BOOMR.utils.md5||(BOOMR.utils.MD5=function(e,t,n){return t?n?O(t,e):function(e,t){return d(O(e,t))}(t,e):n?l(e):d(l(e))})}(),BOOMR.t_end=(new Date).getTime()}}])}();
//# sourceMappingURL=boomerang-build-boomerang-1-0-0-js-es5.f261e0d7dd7427e15423.js.map